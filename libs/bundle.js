!function r(h,s,u){function o(n,t){if(!s[n]){if(!h[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var a=s[n]={exports:{}};h[n][0].call(a.exports,function(t){return o(h[n][1][t]||t)},a,a.exports,r,h,s,u)}return s[n].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)o(u[t]);return o}({1:[function(t,n,e){"use strict";var i=function(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t};function a(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var c,h,l=t("./ganzhi"),f=t("./tylunar"),s=t("./shensha");(h=c=c||{})[h.DaYun=0]="DaYun",h[h.LiuNian=1]="LiuNian",h[h.XiaoYun=2]="XiaoYun";var g=(i(u,[{key:"Old",get:function(){return this.Start.getFullYear()-this.birthYear}},{key:"End",get:function(){return this.type==c.DaYun?new Date(this.Start.getTime()+u.tenyear):(this.type,c.LiuNian,null)}},{key:"Year",get:function(){return this.Start.getFullYear()}}]),u);function u(t,n,e,i){r(this,u),this.Start=t,this.GZ=n,this.birthYear=e,this.type=i}g.oneday=864e5,g.oneyear=365.25*g.oneday,g.tenyear=10*g.oneyear,e.BaziYun=g;var o=(i(y,[{key:"CalcShenSha",value:function(t){var n=new Array,e=!0,i=!1,a=void 0;try{for(var r,h=this.ShenSha[Symbol.iterator]();!(e=(r=h.next()).done);e=!0){var s=r.value;1==s.Is(t)&&n.push(s.Name)}}catch(t){i=!0,a=t}finally{try{!e&&h.return&&h.return()}finally{if(i)throw a}}return n.join("、")}},{key:"CalcLiuNian",value:function(t,n){for(var e=new Array,i=t-1984;i<0;)i+=60;i%=60;var a=this.T.Index+(t-this.Birthday.getFullYear()+1)*this.Direction;a=(a+600)%60;for(var r=t;r<=n;r++){var h=new l.GanZhi(i);h.Base=this.D,h.ShenSha=this.CalcShenSha(h);var s=new l.GanZhi(a);s.Base=this.D,s.ShenSha=this.CalcShenSha(s);var u=f.TYLunar.getSolarTerms(r,2)[0],o=new g(u,h,this.Birthday.getFullYear(),c.LiuNian);o.GZ2=s,e.push(o),i+=1,i%=60,a=((a+=1*this.Direction)+60)%60}return e}},{key:"equal",value:function(t){return this.Gender==t.Gender&&this.Birthday.toString()==t.Birthday.toString()}},{key:"initShenSha",value:function(){this.shenshas=new Array;var t=this.Y.Index,n=this.M.Index,e=this.D.Index,i=this.T.Index;this.shenshas.push(new s.ShenSha("将星",[e])),this.shenshas.push(new s.ShenSha("羊刃",[e])),this.shenshas.push(new s.ShenSha("禄神",[e])),this.shenshas.push(new s.ShenSha("华盖",[e])),this.shenshas.push(new s.ShenSha("文昌",[e])),this.shenshas.push(new s.ShenSha("学堂",[e])),this.shenshas.push(new s.ShenSha("天喜",[n])),this.shenshas.push(new s.ShenSha("天医",[n])),this.shenshas.push(new s.ShenSha("贵人",[e])),this.shenshas.push(new s.ShenSha("驿马",[t,e])),this.shenshas.push(new s.ShenSha("桃花",[t,e])),this.shenshas.push(new s.ShenSha("灾煞",[t,e])),this.shenshas.push(new s.ShenSha("劫煞",[t,e])),this.shenshas.push(new s.ShenSha("旬空",[e])),this.shenshas.push(new s.ShenSha("魁罡",[t,n,e,i])),this.shenshas.push(new s.ShenSha("四废",[t,n,e,i])),this.shenshas.push(new s.ShenSha("孤辰寡宿",[t,n,e,i])),this.shenshas.push(new s.ShenSha("阴差阳错",[e]));var a=new s.ShenSha("天罗地网",[t,n,e,i]);a.Gender=this.Gender,this.shenshas.push(a)}},{key:"initDaYun",value:function(){this.dayun=new Array;for(var t=this.qiDaYun(),n=this.Direction,e=(t.getFullYear(),this.Birthday.getFullYear(),0);e<10;e++){var i=this.M.Index+(e+1)*n,a=new l.GanZhi((i+60)%60);a.Base=this.bazi.D;var r=new Date(t.getTime()+315576e6*e),h=new g(r,a,this.Birthday.getFullYear(),c.DaYun);this.dayun.push(h)}}},{key:"qiDaYun",value:function(){var t=("m"==this.Gender?1:-1)*(this.Y.Zhi.Index%2==0?1:-1),n=f.TYLunar.findNextJieQi(this.Birthday,t),e=Math.abs(n.getTime()-this.Birthday.getTime())/6e4*2;return new Date(this.Birthday.getTime()+36e5*e)}},{key:"Y",get:function(){return this.bazi.Y}},{key:"M",get:function(){return this.bazi.M}},{key:"D",get:function(){return this.bazi.D}},{key:"T",get:function(){return this.bazi.T}},{key:"All",get:function(){return[this.bazi.Y,this.bazi.M,this.bazi.D,this.bazi.T]}},{key:"Direction",get:function(){return("m"==this.Gender?1:-1)*(this.Y.Zhi.Index%2==0?1:-1)}},{key:"MingGong",get:function(){if(this.minggong)return this.minggong;var t=this.M.Zhi.Index+1+this.T.Zhi.Index+1,n=t<14?14-t:26-t;n-=1;var e=(this.Y.Gan.QiYueGan+(n-2+12)%12)%10;return new l.GanZhi([e,n])}},{key:"TaiYuan",get:function(){var t=(this.M.Gan.Index+1)%10,n=(this.M.Zhi.Index+3)%12;return new l.GanZhi([t,n])}},{key:"WuXings",get:function(){if(this.wuxings)return this.wuxings;var t=[0,0,0,0,0];return t[this.Y.Gan.WuXing.Index]+=1,t[this.M.Gan.WuXing.Index]+=1,t[this.D.Gan.WuXing.Index]+=1,t[this.T.Gan.WuXing.Index]+=1,t[this.Y.Zhi.WuXing.Index]+=1,t[this.M.Zhi.WuXing.Index]+=1,t[this.D.Zhi.WuXing.Index]+=1,t[this.T.Zhi.WuXing.Index]+=1,this.wuxings=[{Name:"金",Num:t[0]},{Name:"水",Num:t[1]},{Name:"木",Num:t[2]},{Name:"火",Num:t[3]},{Name:"土",Num:t[4]}],this.wuxings}},{key:"ShenSha",get:function(){return this.shenshas}},{key:"DaYun",get:function(){return this.dayun}}]),y);function y(t,n){r(this,y),this.Birthday=t,this.Gender=n,this.bazi=f.TYLunar.calcBazi(this.Birthday.getFullYear(),this.Birthday.getMonth()+1,this.Birthday.getDate(),this.Birthday.getHours(),this.Birthday.getMinutes()),this.bazi.Y.Base=this.bazi.D,this.bazi.M.Base=this.bazi.D,this.bazi.D.Base=this.bazi.D,this.bazi.T.Base=this.bazi.D,this.initShenSha(),this.initDaYun()}e.Bazi=o},{"./ganzhi":3,"./shensha":5,"./tylunar":6}],2:[function(t,n,e){"use strict";var i=function(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t};function a(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0}),String.prototype.int2str=function(t,n){var e=null==n||null==n?2:n,i=this.toString(e);if(i.length>=t)return i;for(;i.length<t;)i="0"+i;return i},String.prototype.parseDate=function(){var t=this.replace(/[年月日时分秒:：,，\ \/-]/g,"|").split("|").removeEmpty().select(function(t){return parseInt(t)});return new Date(t[0],t[1]-1,t[2],t[3]||0,t[4]||0,t[5]||0)},String.prototype.Latex=function(t){var n=this.match(/^(?<content>[^|]+)+(\|(?<color>[a-z]+))?$/),e=t||n.groups.color,i=n.groups.content;return e?"\\"+r.COLOR+"{"+e+"}{\\text{"+i+"}}":"\\text{"+i+"}"},String.prototype.IsNullOrEmpty=function(){return null==this||null==this||""==this},Array.prototype.select=function(n){var e=[];return this.forEach(function(t){e.push(n(t))}),e},Array.prototype.where=function(n){var e=[];return this.forEach(function(t){n(t)&&e.push(t)}),e},Array.prototype.distinct=function(){for(var t={},n=[],e=0,i=this.length;e<i;++e)t.hasOwnProperty(this[e])||(n.push(this[e]),t[this[e]]=1);return n},Array.prototype.insert=function(t,n){this.splice(t,0,n)},Array.prototype.removeEmpty=function(){return this.filter(function(t){return!!t&&""!=(t||"").toString()})},Date.prototype.toChinaStr=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this.getFullYear()+"年"+(this.getMonth()+1)+"月"+this.getDate()+"日";return 1==t&&(n+=" "+this.getHours().toString().int2str(2,10)+"时",n+=this.getMinutes().toString().int2str(2,10)+"分",n+=this.getSeconds().toString().int2str(2,10)+"秒"),n},Date.prototype.toDatabaseStr=function(){var t=this.getFullYear()+"-"+(this.getMonth()+1).toString().int2str(2,10)+"-"+this.getDate().toString().int2str(2,10);return t+=" "+this.getHours().toString().int2str(2,10)+":",t+=this.getMinutes().toString().int2str(2,10)+":",t+=this.getSeconds().toString().int2str(2,10)},e.onlyUnique=function(t,n,e){return e.indexOf(t)===n};var r=(i(h,null,[{key:"range",value:function(t){var n=[],e=t.trim().match(/^([0-9]{1,2})[ ]*-[ ]*([0-9]{1,2})$/);if(e)for(var i=parseInt(e[1]);i<=parseInt(e[2]);i++)n.push(i);else n=t.replace("-","").split("").filter(function(t){return!!t&&""!=t&&" "!=t}).map(function(t){return parseInt(t)});return n}},{key:"parseGuaTime",value:function(t){try{var n=t.replace(" ","").match(/[甲乙丙丁戊己庚辛壬癸]?[子丑寅卯辰巳午未申酉戌亥]{1}月[甲乙丙丁戊己庚辛壬癸]{1}[子丑寅卯辰巳午未申酉戌亥]{1}日/i);return n?n.toString().replace(/[月日]/g," ").split(" ").filter(function(t){return!!t&&""!=t}):t.toString().parseDate().toDatabaseStr()}catch(t){throw console.log("Err:",t),t}}},{key:"parseBaziTime",value:function(t){return t.parseDate()}},{key:"parseGuaText",value:function(t){var n={laoyin:2,laoyang:3,shaoyin:0,shaoyang:1,x:2,o:3,"=":0,"-":1,"交":2,"重":3,"阴":0,"阳":1,2:2,3:3,0:0,1:1,X:2,O:3},e=t.replace(" ","").split("").map(function(t){return n[t]||""}).reverse();if(""==e.join(""))return[t,""];var i=e.map(function(t){return t%2}).join(""),a=e.map(function(t){return(t%2+Math.floor(t/2))%2}).join("");return[parseInt(i,2),parseInt(a,2)]}},{key:"parseID",value:function(t,n){var e={id:n,short:void 0,size:void 0};return t&&t.split("/").filter(function(t){return!!t&&""!=t}).forEach(function(t){isNaN(t)?"s"==t.toLowerCase()||"l"==t.toLowerCase()?e.short="s"==t.toLowerCase():e.id=t:e.size=parseInt(t)}),e}},{key:"getYaoSymbol",value:function(t){var n=t.match(/\\yao\{([\S]+)\}/);if(n){var e={laoyin:"laoyin",laoyang:"laoyang",shaoyin:"shaoyin",shaoyang:"shaoyang",x:"laoyin",o:"laoyang","=":"shaoyin","-":"shaoyang","交":"laoyin","重":"laoyang","阴":"shaoyin","阳":"shaoyang",2:"laoyin",3:"laoyang",0:"shaoyin",1:"shaoyang"}[n[1].toString()];return e?{shaoyin:"\\blacksquare \\square \\blacksquare",shaoyang:"\\blacksquare \\blacksquare \\blacksquare",laoyin:"\\blacksquare \\;\\;\\; \\blacksquare \\;\\times",laoyang:"\\blacksquare \\blacksquare \\blacksquare \\;\\odot"}[e]:"\\text{语法错误，无法解释爻符。}"}}},{key:"gualineToTex",value:function(t){for(var n=[],e=0,i=0;i<t.length;i++)if(t[i].toString().match(/[0123]{1}/)){e=t[i];var a=h.getYaoSymbol("\\yao{"+e%2+"}");n.push(a+"\\text{"+t[i+1]+"}"),i++}else if(">"==t[i]){var r=2==e?"\\times":"\\odot";n.push(r+"\\to")}else n.push("\\text{"+t[i]+"}");return n}},{key:"buildTexLine",value:function(t,n){var e=[],i=(n||"").trim().split("|").removeEmpty(),a=i.includes("bold"),r=i.where(function(t){return"bold"!=t})[0];return t.forEach(function(t){a?e.push("\\textbf{"+t+"}"):e.push(""==t||t.startsWith("\\")?t:t.Latex(r))}),e.join(" & ")+"\\\\"}}]),h);function h(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,h)}r.GUA_ID="gua1",r.BAZI_ID="bz1",r.Version="1.0.7(2019-9-03) \n版权所有者：鎏金天涯",r.COLOR="color",r.ShowDebug=!1,e.LatexHelp=r},{}],3:[function(t,n,e){"use strict";var i=function(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t};function a(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var h=t("./wuxing"),s=(i(u,[{key:"Ref",value:function(t,n){var e=1<arguments.length&&void 0!==n&&n,i=!u.HuahePianCai;e&&(i=!e);var a=this.Index%2==t.Index%2,r=this.WuXing,h=t.WuXing;return r.Ke==h.Index?a?["七杀","杀"]:["正官","官"]:r.Sheng==h.Index?a?["枭神","枭"]:["正印","印"]:h.Ke==r.Index?a!==i?["正财","财"]:["偏财","才"]:h.Sheng==r.Index?a?["食神","食"]:["伤官","伤"]:a?["比肩","比"]:["劫财","劫"]}},{key:"GetChangSheng",value:function(t){var n=u.Shuitugongchangsheng;t&&(n=t);var e=n?u.changshengIndexes_shuitu:u.changshengIndexes;return this.Index%2!=0?(e[Math.floor((this.Index-1)/2)]+7)%12:e[Math.floor(this.Index/2)]}},{key:"Name",get:function(){return this.name}},{key:"Index",get:function(){return this.index}},{key:"WuXing",get:function(){var t=Math.floor(this.Index/2);return t=(t+2)%5,h.FetchWuXing(t)}},{key:"ChangSheng",get:function(){return this.GetChangSheng(null)}},{key:"QiYueGan",get:function(){var t=this.Index%5*2;return t=(t+2)%10}},{key:"QiShiGan",get:function(){return this.Index%5*2}}]),u);function u(t,n){r(this,u),this.index=t,this.name=n}s.changshengIndexes=[11,2,2,5,8],s.changshengIndexes_shuitu=[11,2,8,5,8],s.Shuitugongchangsheng=!1,s.HuahePianCai=!1;var o=new Array;function c(){10!==o.length&&(o.push(new s(0,"甲")),o.push(new s(1,"乙")),o.push(new s(2,"丙")),o.push(new s(3,"丁")),o.push(new s(4,"戊")),o.push(new s(5,"己")),o.push(new s(6,"庚")),o.push(new s(7,"辛")),o.push(new s(8,"壬")),o.push(new s(9,"癸")))}var l=(i(f,[{key:"ChangSheng",value:function(t){return this.GetChangSheng(t,void 0)}},{key:"Ref",value:function(t){var n=this.Index%2==t.Index%2,e=this.WuXing,i=t.WuXing;return e.Ke==i.Index?n?["七杀","杀"]:["正官","官"]:e.Sheng==i.Index?n?["正印","印"]:["枭神","枭"]:i.Ke==e.Index?n?["正财","财"]:["偏财","才"]:i.Sheng==e.Index?n?["伤官","伤"]:["食神","食"]:n?["比肩","比"]:["劫财","劫"]}},{key:"GetChangSheng",value:function(t,n){for(var e=t.GetChangSheng(n),i=t.Index%2==0?1:-1,a=0;a<12;a++)if((e+a*i+12)%12===this.Index)return f.changShengDefs[a];return"Error"}},{key:"Name",get:function(){return this.name}},{key:"Index",get:function(){return this.index}},{key:"WuXing",get:function(){switch(this.Index){case 2:case 3:return h.FetchWuXing("木");case 5:case 6:return h.FetchWuXing("火");case 8:case 9:return h.FetchWuXing("金");case 0:case 11:return h.FetchWuXing("水");default:return h.FetchWuXing("土")}}},{key:"CGan",get:function(){var t=new Array,n=!0,e=!1,i=void 0;try{for(var a,r=this.gans[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var h=a.value;t.push(m(h))}}catch(t){e=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(e)throw i}}return t}}]),f);function f(t,n,e){r(this,f),this.index=t,this.name=n,this.gans=e}l.changShengDefs=["长生","沐浴","冠带","临官","帝旺","衰","病","死","墓","绝","胎","养"];var g=new Array;function y(){12!==g.length&&(g.push(new l(0,"子",[9])),g.push(new l(1,"丑",[9,7,5])),g.push(new l(2,"寅",[0,2,5])),g.push(new l(3,"卯",[1])),g.push(new l(4,"辰",[1,4,9])),g.push(new l(5,"巳",[2,4,6])),g.push(new l(6,"午",[3])),g.push(new l(7,"未",[1,3,5])),g.push(new l(8,"申",[5,6,8])),g.push(new l(9,"酉",[7])),g.push(new l(10,"戌",[3,4,7])),g.push(new l(11,"亥",[0,4,8])))}var d=(i(p,null,[{key:"ChangSheng",get:function(){return s.Shuitugongchangsheng},set:function(t){s.Shuitugongchangsheng=t||!1}},{key:"Huahe",get:function(){return s.HuahePianCai},set:function(t){s.HuahePianCai=t||!1}}]),p);function p(){r(this,p)}function m(n){if(c(),"string"==typeof n){var t=o.filter(function(t){return t.Name==n});if(1===t.length)return t[0]}else if("number"==typeof n&&0<=n&&n<=9)return o[n];throw new Error("Parameter Error of Gan: "+n+" is not valiad")}function v(){return c(),o.map(function(t){return t.Name})}function S(n){if(y(),"string"==typeof n){"戍"==n&&(n="戌");var t=g.filter(function(t){return t.Name==n});if(1===t.length)return t[0]}else if("number"==typeof n&&0<=n&&n<=11)return g[n];throw new Error("Parameter Error of Gan: "+n+" is not valiad")}function w(){return y(),g.map(function(t){return t.Name})}e.ConfigGanZhi=d,e.Gan=m,e.GanNames=v,e.Zhi=S,e.ZhiNames=w;var x=(i(L,[{key:"Config",value:function(t,n){this.shuitu=t||!1,this.huahe=n||!1}},{key:"calcIndex",value:function(t,n){var e=(n-t+12)%12/2;return(e=(6-e)%6*10)+t}},{key:"Name",get:function(){return this.Gan?this.Gan.Name+this.Zhi.Name:this.Zhi.Name}},{key:"Index",get:function(){return this.Gan?this.calcIndex(this.Gan.Index,this.Zhi.Index):this.Zhi.Index}},{key:"NaYin",get:function(){return null==this.Gan?"":L.NaYins[Math.floor(this.Index/2)]}},{key:"Shen10Gan",get:function(){if(!this.Base)throw new Error("BaseGan is not defined.");return this===this.Base?["日主","日"]:this.Gan.Ref(this.Base.Gan,this.huahe)}},{key:"Shen10Zhi",get:function(){if(!this.Base)throw new Error("BaseGan is not defined.");return this.Zhi.Ref(this.Base.Gan)}},{key:"ChangSheng",get:function(){return this.Base?this.Zhi.GetChangSheng(this.Base.Gan,this.shuitu):""}}],[{key:"GanZhiNames",get:function(){for(var t=v(),n=w(),e=new Array,i=0;i<t.length;i++)for(var a=0;a<n.length;a++)i%2==a%2&&e.push(t[i]+n[a]);return e}}]),L);function L(t){if(r(this,L),Array.isArray(t)&&2==t.length)this.Gan=m(t[0]),this.Zhi=S(t[1]);else if("string"==typeof t)this.Gan=2==t.length?m(t.substring(0,1)):null,this.Zhi=2==t.length?S(t.substring(1,2)):S(t.substring(0,1));else if("number"==typeof t&&0<=t&&t<=59){var n=t%10,e=t%12;this.Gan=m(n),this.Zhi=S(e)}if(this.Config(s.Shuitugongchangsheng,s.HuahePianCai),null==this.Zhi||void 0===this.Zhi)throw new Error("GanZhi Error: parameter "+t+" is not valid.")}x.NaYins=["海中金","炉中火","大林木","路旁土","剑峰金","山头火","涧下水","城墙土","白蜡金","杨柳木","泉中水","屋上土","霹雳火","松柏木","长流水","沙中金","山下火","平地木","壁上土","金箔金","佛灯火","天河水","大驿土","钗钏金","桑松木","大溪水","沙中土","天上火","石榴木","大海水"],e.GanZhi=x},{"./wuxing":7}],4:[function(t,n,e){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t};function a(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var f=t("./tylunar"),y=t("./ganzhi"),r=t("./shensha"),h=t("./wuxing");var u=(i(o,[{key:"GanZhi",value:function(t){return(t=(t+6)%6)<3?new y.GanZhi([this.NaGan[0],this.Zhis[t]]):new y.GanZhi([this.NaGan[1],this.Zhis[t]])}},{key:"Index",get:function(){return this.index}},{key:"Name",get:function(){return this.name}},{key:"NameV",get:function(){return this.namev}},{key:"Value",get:function(){return this.value}},{key:"WuXing",get:function(){return this.wuxing}},{key:"Zhis",get:function(){return this.zhis}},{key:"NaGan",get:function(){return this.nagan}}]),o);function o(t,n,e,i,a,r){l(this,o),this.index=t,this.name=n,this.namev=e,this.wuxing=i,this.zhis=a,this.nagan=r,this.value=function(t,n,e){var i=null==e||null==e?2:e,a=t.toString(i);if(a.length>=n)return a;for(;a.length<n;)a="0"+a;return a}(t,3,2)}var c=new Array;var g=(i(d,[{key:"ZhiIndex",value:function(t){return this.GanZhis[(t+6)%6].Index}},{key:"Shang",get:function(){return this.shang}},{key:"Xia",get:function(){return this.xia}},{key:"Index",get:function(){return 8*this.Shang.Index+this.Xia.Index}},{key:"NameS",get:function(){return d.GuaNames[this.Index]}},{key:"Name",get:function(){return this.Shang===this.Xia?this.Shang.Name+"为"+this.Shang.NameV:this.Shang.NameV+this.Xia.NameV+this.NameS}},{key:"Mean",get:function(){var n=this;return d.GuaChiJie.filter(function(t){return 0<=t.indexOf(n.Name)})[0]}},{key:"GuaGong",get:function(){return c[this.GuaGongI].Name+"宫"}},{key:"GuaGongI",get:function(){return d.CalcGuaGong(this.Shang.Index,this.Xia.Index).GuaGong}},{key:"Shiyao",get:function(){return d.CalcGuaGong(this.Shang.Index,this.Xia.Index).ShiWei}},{key:"Property",get:function(){var t=this.Xia.Zhis[0],n=this.Shang.Zhis[3],e="";t+n==13||t+n==1?e+="六合":6==Math.abs(t-n)&&(e+="六冲");var i=parseInt(this.Shang.Value,2)^parseInt(this.Xia.Value,2);return 5==i?e+="游魂":2==i&&(e+="归魂"),e}},{key:"GanZhis",get:function(){if(!this.ganzhis){this.ganzhis=new Array;var t=this.Xia.NaGan[0],n=!0,e=!1,i=void 0;try{for(var a,r=this.Xia.Zhis.slice(0,3)[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var h=a.value,s=new y.GanZhi([t,h]);this.ganzhis.push(s)}}catch(t){e=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(e)throw i}}t=this.Shang.NaGan[1];var u=!0,o=!1,c=void 0;try{for(var l,f=this.Shang.Zhis.slice(3,6)[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var g=l.value;s=new y.GanZhi([t,g]),this.ganzhis.push(s)}}catch(t){o=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(o)throw c}}}return this.ganzhis}},{key:"WuXing",get:function(){var t=c[this.GuaGongI];return h.FetchWuXing(t.wuxing)}}],[{key:"CalcGuaGong",value:function(t,n){var e=-1,i=-1;switch(t^n){case 7:e=2,i=t;break;case 6:case 5:e=3,i=7^n;break;case 4:e=4,i=7^n;break;case 3:e=1,i=t;break;case 2:e=2,i=n;break;case 1:e=0,i=t;break;case 0:e=5,i=t}return{GuaGong:i%=8,ShiWei:e}}}]),d);function d(t,n){l(this,d),this.shang=c[t],this.xia=c[n]}g.GuaChiJie=["乾为天：强健、启始","天风姤：疏漏、相遇","天山遁：逃遁、隐退","山地剥：剥落、显露","火地晋：晋升、前进","火天大有：收获、丰富","风地观：考察、观望","坎为水：坎凹、陷入","巽为风：跟风、上行下效","水泽节：节度、制约","水雷屯：屯积、初始","水火既济：顺其自然、顺畅","泽火革：改变、革新","雷火丰：丰富、张扬","地水师：单一、率众","艮为山：堆积、受阻","山火贲：粉饰、礼仪","地火明夷：前有险、动则伤","山泽损：损失、受损","火泽睽：反目、背驰","雷山小过：过火，可补救过失","天泽履：履行、持礼","风山渐：渐近、缓近","风泽中孚：坚持、诚信","震为雷：突发、走动","雷水解：解决、释放","火风鼎：独当一面、极致","地风升：进展、提升","水风井：规划、局束","雷泽归妹：如愿、回报","泽雷随：跟随、归顺","天地否：受阻、闭塞","泽风大过：太过分、已遭损失","风雷益：有益、受益","山雷颐：颐表、培养","风天小畜：浅积累，欠充分","山风蛊：发动、谋事","离为火：外露、绚丽","山水蒙：启蒙、不清晰","火山旅：旅行、客居","风水涣：涣散、发散","风火家人：亲人、归家、回收","天水讼：谈判、诉讼","坤为地：包含、承载","天雷无妄：无妄为、无过失","地雷复：反复、重复","雷风恒：恒久、不变","火雷噬嗑：沟通，有目的交流","地泽临：临近、降临","地天泰：通泰、通畅","泽天夬：缺陷、不完整","水天需：等待、筹备","水地比：亲密、平等","火水未济：阻碍、未达目的","兑为泽：谈话、愉悦","泽水困：受困、被围","天火同人：随大流、与众同等","泽地萃：突出、聚集 ","泽山咸：参与、遍布","雷天大壮：众所周知、正当其用","水山蹇：行险、难关","雷地豫：欢愉、犹豫","地山谦：谦逊、深藏不露","山天大畜：积畜已久、准备充分"],g.GuaNames=["地","复","师","临","谦","明夷","升","泰","豫","雷","解","归妹","小过","丰","恒","大壮","比","屯","水","节","蹇","既济","井","需","萃","随","困","泽","咸","革","大过","夬","剥","颐","蒙","损","山","贲","蛊","大畜","晋","噬嗑","未济","睽","旅","火","鼎","大有","观","益","涣","中孚","渐","家人","风","小畜","否","无妄","讼","履","遁","同人","姤","天"];var p=new Array;function m(){if(64!==p.length){8!==c.length&&(c.push(new u(0,"坤","地",4,[7,5,3,1,11,9],[1,9])),c.push(new u(1,"震","雷",2,[0,2,4,6,8,10],[6,6])),c.push(new u(2,"坎","水",1,[2,4,6,8,10,0],[4,4])),c.push(new u(3,"兑","泽",0,[5,3,1,11,9,7],[3,3])),c.push(new u(4,"艮","山",4,[4,6,8,10,0,2],[2,2])),c.push(new u(5,"离","火",3,[3,1,11,9,7,5],[5,5])),c.push(new u(6,"巽","风",2,[1,11,9,7,5,3],[7,7])),c.push(new u(7,"乾","天",0,[0,2,4,6,8,10],[0,8])));for(var t=0;t<8;t++)for(var n=0;n<8;n++)p.push(new g(t,n))}}var v=["青龙","朱雀","勾陈","螣蛇","白虎","玄武"];function S(t){m();var n=isNaN(t.toString())?-1:parseInt(t.toString()),e="string"==typeof t?t:void 0;if("number"==typeof n&&0<=n&&n<64)return p[n];if(e){e=3<=e.length?e.substr(2):e;var i=g.GuaNames.indexOf(e);if(0<=i)return p[i]}if((e=t.toString()).match(/[地雷水泽山火风天]{2}/)){var a="地雷水泽山火风天",r=a.indexOf(e.substr(0,1)),h=a.indexOf(e.substr(1,1));return p[8*r+h]}throw new Error("六十四卦的卦名或者序列号出错: "+t.toString()+", "+(void 0===t?"undefined":s(t)))}e.Gua64=S;var w=(i(x,[{key:"GetLineZhi",value:function(t){var n=this.FuGua.GanZhis.map(function(t){return t.Index}).join()!=this.Ben.GanZhis.map(function(t){return t.Index}).join(),e=this.Ben.Index!=this.Bian.Index,i=new Array;if(n){var a=this.FuGua.GanZhis[t-1].Zhi.Index==this.Ben.GanZhis[t-1].Zhi.Index;i.push(a?"":this.FuGua.GanZhis[t-1].Zhi.Index.toString())}return i.push(this.Ben.GanZhis[t-1].Zhi.Index.toString()),e&&i.push(this.Bian.GanZhis[t-1].Zhi.Index.toString()),i}},{key:"GetLine",value:function(t,n){var e=1<arguments.length&&void 0!==n&&n,i=this.FuGua.GanZhis.map(function(t){return t.Index}).join()!=this.Ben.GanZhis.map(function(t){return t.Index}).join(),a=this.Ben.Index!=this.Bian.Index,r=this.Ben.WuXing,h=new Array;if(h.push(e?this.shen6[t-1].substring(1):this.shen6[t-1]),i)if(this.FuGua.GanZhis[t-1].Zhi.Index==this.Ben.GanZhis[t-1].Zhi.Index)h.push("");else{var s=this.FuGua.GanZhis[t-1].Zhi,u=e?s.WuXing.Ref(r)[1]+s.Name:s.WuXing.Ref(r)[0]+s.Name+s.WuXing.Name;h.push(u)}h.push(this.Benyaos[t-1]);var o=this.Ben.GanZhis[t-1].Zhi,c=e?o.WuXing.Ref(r)[1]+o.Name:o.WuXing.Ref(r)[0]+o.Name+o.WuXing.Name;if(h.push(c),this.Ben.Shiyao==t-1?h.push("世"):(this.Ben.Shiyao+3)%6==t-1?h.push("应"):h.push(""),a){h.push(1<this.Benyaos[t-1]?">":"");var l=this.Bian.GanZhis[t-1].Zhi;h.push(this.Bianyaos[t-1]);var f=e?l.WuXing.Ref(r)[1]+l.Name:l.WuXing.Ref(r)[0]+l.Name+l.WuXing.Name;h.push(f)}return h}},{key:"equal",value:function(t){return this.Yue.Index==t.Yue.Index&&this.Ri.Index==t.Ri.Index&&this.Ben.Index==t.Ben.Index&&this.Bian.Index==t.Bian.Index}},{key:"initShenSha",value:function(){this.shenshas=[],this.shenshas.push(new r.ShenSha("将星",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("华盖",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("驿马",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("谋星",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("桃花",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("灾煞",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("劫煞",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("禄神",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("羊刃",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("文昌",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("天喜",[this.guatime[0].Index])),this.shenshas.push(new r.ShenSha("天医",[this.guatime[0].Index])),this.shenshas.push(new r.ShenSha("贵人",[this.guatime[1].Index])),this.shenshas.push(new r.ShenSha("旬空",[this.guatime[1].Index]))}},{key:"initShen6",value:function(){this.shen6=[];var t=this.guatime[1].Gan.Index;t=5<=t?Math.floor((t+2)/2):Math.floor(t/2);for(var n=0;n<6;n++){var e=(t+n)%6;this.shen6.push(v[e].substring(0,2))}}},{key:"Yue",get:function(){return this.guatime[0]}},{key:"Ri",get:function(){return this.guatime[1]}},{key:"ShenShas",get:function(){return this.shenshas}},{key:"Ben",get:function(){return this.bengua}},{key:"Bian",get:function(){return this.biangua}},{key:"FuGua",get:function(){return this.fugua}},{key:"Shen6",get:function(){return this.shen6}},{key:"Benyaos",get:function(){for(var t=(this.Ben.Shang.Value+this.Ben.Xia.Value).split(""),n=[],e=5;0<=e;e--)n.push(parseInt(t[e]));for(var i=this.Bianyaos,a=5;0<=a;a--)n[a]!=i[a]&&(n[a]+=2);return n}},{key:"Bianyaos",get:function(){for(var t=(this.Bian.Shang.Value+this.Bian.Xia.Value).split(""),n=[],e=5;0<=e;e--)n.push(parseInt(t[e]));return n}}]),x);function x(t,n,e){l(this,x),m();var i="string"==typeof t?t.parseDate():void 0,a=Array.isArray(t)?t:void 0;if(i){var r=new Date(i.getTime()+36e5),h=new f.TYDate(r);this.guatime=[new y.GanZhi(h.GZmonth),new y.GanZhi(h.GZdate)]}else{var s=new y.GanZhi(a[0]),u=new y.GanZhi(a[1]);this.guatime=[s,u]}e=e||n,n=n.replace(" ",""),e=e.replace(" ","");var o=n.split("之");2==o.length&&(n=o[0],e=o[1]),this.bengua=S(n),this.biangua=S(e);var c=this.bengua.GuaGongI;this.fugua=S(8*c+c),this.initShenSha(),this.initShen6()}e.Gua=w},{"./ganzhi":3,"./shensha":5,"./tylunar":6,"./wuxing":7}],5:[function(t,n,e){"use strict";var i=function(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t};function a(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0});var d=t("./ganzhi"),r=t("./common");function h(t){return t%10}var s=new Array;var u=(i(o,[{key:"Is",value:function(t){if(0<this.Result.length){var n=!0,e=!1,i=void 0;try{for(var a,r=this.result[Symbol.iterator]();!(n=(a=r.next()).done);n=!0)if(a.value==t.Zhi.Name)return!0}catch(t){e=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(e)throw i}}}else{if("天罗地网"==this.Name)return this.IsTianLuoDiWang(t.Index);var h="孤辰寡宿"==this.Name?t.Index%12:t.Index,s=!0,u=!1,o=void 0;try{for(var c,l=this.pattern[Symbol.iterator]();!(s=(c=l.next()).done);s=!0)if(c.value==h)return!0}catch(t){u=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(u)throw o}}}return!1}},{key:"normalFetch",value:function(t){if("三合"==this.fetchName)return[this.pattern[function(t){return t%12%4}(t)]];if("干"==this.fetchName)return[this.pattern[h(t)]];if("三会"==this.fetchName)return[this.pattern[function(t){return Math.floor((t+1)%12/3)}(t)]];if("天医"==this.fetchName)return[function(t){return(t%12-1+12)%12}(t)];if("旬空"==this.fetchName)return function(t){var n=10-2*Math.floor(t/10);return[n,1+n]}(t);if("贵人"==this.fetchName){var n=this.pattern[h(t)];return[n[0],n[1]]}}},{key:"getNormalResult",value:function(){var t=new Array,n=!0,e=!1,i=void 0;try{for(var a,r=this.ganzhi[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var h=a.value;this.fetchName&&(t=t.concat(this.normalFetch(h)))}}catch(t){e=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(e)throw i}}var s=new Array,u=!0,o=!1,c=void 0;try{for(var l,f=t[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var g=l.value,y=d.Zhi(g);s.push(y.Name)}}catch(t){o=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(o)throw c}}return 2==s.length&&s[0]==s[1]?[s[0]]:s}},{key:"getKuiGang",value:function(){var t=[new d.GanZhi("庚戌"),new d.GanZhi("庚辰"),new d.GanZhi("戊戌"),new d.GanZhi("壬辰")];this.pattern=t.map(function(t){return t.Index});var n=!0,e=!1,i=void 0;try{for(var a,r=this.ganzhi[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var h=a.value,s=!0,u=!1,o=void 0;try{for(var c,l=this.pattern[Symbol.iterator]();!(s=(c=l.next()).done);s=!0)if(h==c.value)return["√"]}catch(t){u=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(u)throw o}}}}catch(t){e=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(e)throw i}}return[]}},{key:"getSiFei",value:function(t){var n=[];switch(t%12){case 2:case 3:n=[new d.GanZhi("庚申"),new d.GanZhi("辛酉")];break;case 5:case 6:n=[new d.GanZhi("壬子"),new d.GanZhi("癸亥")];break;case 8:case 9:n=[new d.GanZhi("甲寅"),new d.GanZhi("乙卯")];break;case 0:case 11:n=[new d.GanZhi("丙午"),new d.GanZhi("丁巳")]}this.pattern=n.map(function(t){return t.Index});var e=!0,i=!1,a=void 0;try{for(var r,h=this.ganzhi[Symbol.iterator]();!(e=(r=h.next()).done);e=!0){var s=r.value,u=!0,o=!1,c=void 0;try{for(var l,f=this.pattern[Symbol.iterator]();!(u=(l=f.next()).done);u=!0)if(s==l.value)return["√"]}catch(t){o=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(o)throw c}}}}catch(t){i=!0,a=t}finally{try{!e&&h.return&&h.return()}finally{if(i)throw a}}return[]}},{key:"getGuChengGuaShu",value:function(t){switch(Math.floor((t+1)%12/3)){case 0:this.pattern=[2,10];break;case 1:this.pattern=[5,1];break;case 2:this.pattern=[8,4];break;case 3:this.pattern=[11,7]}var n=!0,e=!1,i=void 0;try{for(var a,r=this.ganzhi[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var h=a.value,s=!0,u=!1,o=void 0;try{for(var c,l=this.pattern[Symbol.iterator]();!(s=(c=l.next()).done);s=!0)if(h%12==c.value)return["√"]}catch(t){u=!0,o=t}finally{try{!s&&l.return&&l.return()}finally{if(u)throw o}}}}catch(t){e=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(e)throw i}}return[]}},{key:"getYinChaYangCuo",value:function(){this.pattern=["丙子","丙午","丁丑","丁未","辛卯","辛酉","壬辰","壬戌","癸巳","癸亥","戊寅","戊申"].map(function(t){return new d.GanZhi(t).Index});var t=!0,n=!1,e=void 0;try{for(var i,a=this.ganzhi[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var r=i.value,h=!0,s=!1,u=void 0;try{for(var o,c=this.pattern[Symbol.iterator]();!(h=(o=c.next()).done);h=!0)if(r==o.value)return["√"]}catch(t){s=!0,u=t}finally{try{!h&&c.return&&c.return()}finally{if(s)throw u}}}}catch(t){n=!0,e=t}finally{try{!t&&a.return&&a.return()}finally{if(n)throw e}}return[]}},{key:"getTianLuoDiWang",value:function(t){var n=0;this.pattern=t?[4,5]:[10,11];var e=!0,i=!1,a=void 0;try{for(var r,h=this.ganzhi[Symbol.iterator]();!(e=(r=h.next()).done);e=!0)for(var s=r.value%12,u=0;u<2;u++)this.pattern[u]==s&&(n|=1<<u)}catch(t){i=!0,a=t}finally{try{!e&&h.return&&h.return()}finally{if(i)throw a}}return 3===n?["√"]:[]}},{key:"IsTianLuoDiWang",value:function(t){t%=12;var n=0,e=!0,i=!1,a=void 0;try{for(var r,h=this.ganzhi[Symbol.iterator]();!(e=(r=h.next()).done);e=!0)for(var s=r.value%12,u=0;u<2;u++)this.pattern[u]==s&&(n|=1<<u),this.pattern[u]==t&&(n|=1<<u)}catch(t){i=!0,a=t}finally{try{!e&&h.return&&h.return()}finally{if(i)throw a}}return 3===n}},{key:"Name",get:function(){return this.name}},{key:"Result",get:function(){if(this.result)return this.result;if("魁罡"==this.Name)this.result=this.getKuiGang();else if("四废"==this.Name){var t=this.ganzhi[1];this.result=this.getSiFei(t)}else"孤辰寡宿"==this.Name?this.result=this.getGuChengGuaShu(this.ganzhi[0]):"阴差阳错"==this.Name?this.result=this.getYinChaYangCuo():"天罗地网"==this.Name?this.result=this.getTianLuoDiWang("m"==this.Gender):this.result=this.getNormalResult();return this.result.filter(r.onlyUnique)}}]),o);function o(n,t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),this.name=n,this.ganzhi=t,0<s.length||(s.push({Name:"将星",Pattern:[0,9,6,3],Fetch:"三合"}),s.push({Name:"华盖",Pattern:[4,1,10,7],Fetch:"三合"}),s.push({Name:"驿马",Pattern:[2,11,8,5],Fetch:"三合"}),s.push({Name:"谋星",Pattern:[10,7,4,1],Fetch:"三合"}),s.push({Name:"桃花",Pattern:[9,6,3,0],Fetch:"三合"}),s.push({Name:"灾煞",Pattern:[6,3,0,9],Fetch:"三合"}),s.push({Name:"劫煞",Pattern:[5,2,11,8],Fetch:"三合"}),s.push({Name:"禄神",Pattern:[2,3,5,6,5,6,8,9,11,0],Fetch:"干"}),s.push({Name:"羊刃",Pattern:[3,2,6,5,6,5,9,8,0,11],Fetch:"干"}),s.push({Name:"文昌",Pattern:[5,6,8,9,8,9,11,0,2,3],Fetch:"干"}),s.push({Name:"学堂",Pattern:[11,11,2,2,8,8,5,5,8,8],Fetch:"干"}),s.push({Name:"贵人",Pattern:[[1,7],[8,0],[11,9],[11,9],[1,7],[8,0],[2,6],[2,6],[3,5],[3,5]],Fetch:"贵人"}),s.push({Name:"天喜",Pattern:[7,10,1,4],Fetch:"三会"}),s.push({Name:"天医",Pattern:null,Fetch:"天医"}),s.push({Name:"旬空",Pattern:null,Fetch:"旬空"}),s.push({Name:"魁罡",Pattern:null,Fetch:null}),s.push({Name:"四废",Pattern:null,Fetch:null}),s.push({Name:"孤辰寡宿",Pattern:null,Fetch:null}),s.push({Name:"天罗地网",Pattern:null,Fetch:null}),s.push({Name:"阴差阳错",Pattern:null,Fetch:null}));var e=s.filter(function(t){return t.Name==n});this.pattern=e[0].Pattern,this.fetchName=e[0].Fetch}e.ShenSha=u},{"./common":2,"./ganzhi":3}],6:[function(t,n,e){"use strict";var i=function(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t};function a(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var h=t("../libs/lunar"),c=t("./ganzhi");Lunar=h.Lunar;var s=[];s[0]={Titel:"建日",Mean:"健旺之气。",Good:"宜祭祀、参官、行军、外出、求财、谒贵、交友、上书。",Bad:"忌动土、开仓祀灶、新船下水、兢渡。"},s[1]={Titel:"除日",Mean:"除旧布新之象。",Good:"宜除服、疗病、避邪、拆卸、出行、嫁娶。",Bad:"忌求官、上任、开张、搬家、探病。"},s[2]={Titel:"满日",Mean:"丰收圆满之意。",Good:"宜祈福、祭祀、结亲、开市、交易。扫舍、修置产室、裁衣、出行、入仓、开库、店市、求财、出行、修饰舍宇。",Bad:"忌服药、栽种、下葬、移徙、求医疗病、上官赴任。寅申巳亥四个月不宜经商。"},s[3]={Titel:"平日",Mean:"平常无吉凶之日。",Good:"一般修屋、求福、外出、求财、嫁娶可用。",Bad:"忌开渠、经络。"},s[4]={Titel:"定日",Mean:"定为不动，不动则为死气。",Good:"只宜计划、谋定。入学、祈福、裁衣、祭祀、结婚姻、纳采问名、求嗣、纳畜、交易亦可",Bad:"诸事不宜，尤忌官司、出行。"},s[5]={Titel:"执日",Mean:"固执之意，执持操守也。",Good:"一般宜祈福、祭祀、求子、结婚、立约。司法警察执拿案犯。",Bad:"忌搬家、远行、入宅、移居、出行、远回、开库、入仓、出纳货财、新船下水。"},s[6]={Titel:"破日",Mean:"刚旺破败之日。",Good:"宜求医、治病、破屋坏垣、服药、破贼。",Bad:"万事皆忘，婚姻不谐。不宜多管闲事。忌起工、动土、出行、远回、移徙、新船下水、嫁娶、进人口、祀灶、立契约、纳畜、修作。"},s[7]={Titel:"危日",Mean:"危险之意。",Good:"宜祭祀、祈福、纳表进章、结婚、纳采问名、捕捉、安床、交易、立契。",Bad:"忌登高、冒险、赌博。"},s[8]={Titel:"成日",Mean:"成功、成就、结果之意。",Good:"凡事皆有成。宜祭祀、祈福、入学、裁衣、结婚、纳采、嫁娶、纳表章、交易、立契、求医、修产室、出行、远回、移徙、纳畜。",Bad:"忌官司。"},s[9]={Titel:"收日",Mean:"收成之意。",Good:"经商开市、外出求财，买屋签约、嫁娶订盟诸事吉利。",Bad:"忌开市、安床、安葬、入宅、破土。"},s[10]={Titel:"开日",Mean:"开放、开心之意。",Good:"凡事求财、求子、求缘、求职、求名。",Bad:"埋葬主大凶。辰戌丑未四个月不宜经商。"},s[11]={Titel:"毕日",Mean:"坚固之意。",Good:"最宜埋葬，代表能富贵大吉大利。宜祈福、祭祀、求嗣、交易、立契、修合、补牆塞穴、作厕、安床设帐。",Bad:"忌看眼病、求医、问学、外出经商，上任就职。辰戌丑未四个月不宜远回、移徙、动土。"};var u=(i(l,null,[{key:"getLunarObject",value:function(t){var n=t.getFullYear(),e=t.getMonth()+1,i=t.getDate();0!=Lunar.lun.length&&Lunar.lun.y==n&&Lunar.lun.m==e||Lunar.calc2(t.getFullYear(),t.getMonth()+1,!0);for(var a=[],r=0;r<Lunar.lun.length;r++){if(Lunar.lun[r].d==i)return Lunar.lun[r].lastjq=a,Lunar.lun[r];""!=Lunar.lun[r].jqmc&&Lunar.lun[r].jqsj.startsWith("23")&&(a=[Lunar.lun[r].jqmc,Lunar.lun[r].jqsj])}return null}},{key:"addDays",value:function(t,n){return new Date((n||l.BaseDay).getTime()+t*l.OneDay)}},{key:"calcDayDiff",value:function(t,n){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(n.getFullYear(),n.getMonth(),n.getDate());return Math.round((i.getTime()-e.getTime())/l.OneDay)}},{key:"getSolarTerms",value:function(t,n){var e=[];0!=Lunar.lun.length&&Lunar.lun.y==t&&Lunar.lun.m==n||Lunar.calc2(t,n,!0);for(var i=0;i<Lunar.lun.length;i++)if(null!=Lunar.lun[i].jqsj&&""!=Lunar.lun[i].jqsj){var a=Lunar.lun[i],r=a.jqsj.split(":");e.push(new Date(t,n-1,a.d,parseInt(r[0]),parseInt(r[1]),parseInt(r[2])))}return e}},{key:"getJianChu",value:function(t,n){var e=new c.GanZhi(t),i=(new c.GanZhi(n).Zhi.Index-e.Zhi.Index+12)%12;return s[i]}},{key:"SearchNongli",value:function(t,n,e){for(var i=Lunar.rmc[e-1],a=Lunar.ymc[(Math.abs(n)+1)%12],r=n<0?"闰":"",h=0;h<3;h++){var s=Math.abs(n)+h,u=13<=s?t+1:t;for(s=13<=s?s%12:s,Lunar.calc2(u,s,!0),e=0;e<Lunar.lun.length;e++){var o=Lunar.lun[e];if(o.Ldc==i&&o.Lmc==a&&o.Lleap==r)return new Date(o.y,o.m-1,o.d)}}return null}},{key:"calcBazi",value:function(t,n,e,i,a){null!=a&&null!=a||(a=0),null!=i&&null!=i||(i=0);var r={Y:null,M:null,D:null,T:null,Jieqi:null},h=new Date(t,n-1,e),s=new f(i<23?h:l.addDays(1,h));r.Y=new c.GanZhi(s.GZyear),r.M=new c.GanZhi(s.GZmonth),r.D=new c.GanZhi(s.GZdate);var u=Math.ceil(i%23/2),o=(r.D.Gan.QiShiGan+u)%10;return r.T=new c.GanZhi([o,u]),r}},{key:"findNextJieQi",value:function(t,n){var e=t.getFullYear(),i=t.getMonth(),a=l.getSolarTerms(e,i+1)[0];if(t<=a&&0<n)return a;if(a<=t&&n<0)return a;var r=l.addDays(1==n?40:-10,a);return e=r.getFullYear(),i=r.getMonth(),l.getSolarTerms(e,i+1)[0]}}]),l);function l(){r(this,l)}u.OneDay=864e5,u.BaseDay=new Date(1900,0,0),u.M_DayNames=["初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"],u.M_MonthNames=["一","二","三","四","五","六","七","八","九","十","十一","十二"],u.M_ChineseMonthNames=["正","二","三","四","五","六","七","八","九","十","冬","腊"],e.TYLunar=u;var f=(i(o,[{key:"adjustJieqi",value:function(t){if(""==t.jqmc||t.jqsj.startsWith("23")?(this.jqtime="",this.jqname=""):(this.jqtime=t.jqsj,this.jqname=t.jqmc),t.d<15&&""!=t.jqmc&&t.jqsj.startsWith("23")){var n=new c.GanZhi(this.gzmonth),e=(n.Index-1+60)%60;this.gzmonth=new c.GanZhi(e).Name,2==this.Month&&(e=((n=new c.GanZhi(this.gzyear)).Index-1+60)%60,this.gzyear=new c.GanZhi(e).Name)}2==t.lastjq.length&&(this.jqtime=t.lastjq[1],this.jqname=t.lastjq[0])}},{key:"printLunar",value:function(){var t=u.getLunarObject(this.date);console.log("print Lunar: "+this.date),console.log(t)}},{key:"NLmonthFullName",get:function(){return this.NLleap+this.NLmonth+"月"}},{key:"Display",get:function(){return""!=this.JQname?this.JQname:this.date.getDate().toString()}},{key:"DisplayChi",get:function(){return"初一"==this.NLdate?this.NLmonthFullName:this.NLdate}},{key:"Month",get:function(){return this.date.getMonth()+1}},{key:"Date",get:function(){return this.date.getDate()}},{key:"Year",get:function(){return this.date.getFullYear()}},{key:"GZyear",get:function(){return this.gzyear}},{key:"GZmonth",get:function(){return this.gzmonth}},{key:"GZdate",get:function(){return this.gzdate}},{key:"NLmonth",get:function(){return this.nlmonth}},{key:"NLdate",get:function(){return this.nldate}},{key:"NLleap",get:function(){return this.nlleap}},{key:"NLdateIndex",get:function(){return this.nldatei}},{key:"JQname",get:function(){return this.jqname}},{key:"JQtime",get:function(){return this.jqtime}},{key:"JianChu",get:function(){return u.getJianChu(this.GZmonth,this.GZdate)}},{key:"IsSuiPo",get:function(){var t=new c.GanZhi(this.GZyear),n=new c.GanZhi(this.GZdate);return 6===Math.abs(t.Zhi.Index-n.Zhi.Index)}},{key:"IsYuePo",get:function(){var t=new c.GanZhi(this.GZmonth),n=new c.GanZhi(this.GZdate);return 6===Math.abs(t.Zhi.Index-n.Zhi.Index)}},{key:"IsShangSuo",get:function(){var t=new c.GanZhi(this.GZyear);return o.shangshuoDef[t.Gan.Index]==this.GZdate}},{key:"IsYangGong13",get:function(){var t=this.NLmonthFullName+this.NLdate,n=!0,e=!1,i=void 0;try{for(var a,r=o.yanggong13Def[Symbol.iterator]();!(n=(a=r.next()).done);n=!0)if(a.value==t)return!0}catch(t){e=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(e)throw i}}return!1}}]),o);function o(t){r(this,o),this.date=t;var n=u.getLunarObject(this.date);this.gzyear=n.Lyear2,this.gzmonth=n.Lmonth2,this.gzdate=n.Lday2,this.nlmonth=n.Lmc,this.nldate=n.Ldc,this.nlleap=n.Lleap,this.nldatei=n.Ldi,this.adjustJieqi(n)}f.shangshuoDef=["癸亥","己巳","乙亥","辛巳","丁亥","癸巳","己亥","乙巳","辛亥","丁巳"],f.yanggong13Def=["正月十三","二月十一","三月初九","四月初七","五月初五","六月初三","七月初一","七月廿九","八月廿七","九月廿五","十月廿三","十一月廿一","十二月十九"],e.TYDate=f},{"../libs/lunar":8,"./ganzhi":3}],7:[function(t,n,e){"use strict";var i=function(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t};function a(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0});var r=(i(h,[{key:"Ref",value:function(t){return this.Ke==t.Index?["官鬼","官"]:this.Sheng==t.Index?["父母","父"]:t.Ke==this.index?["妻财","财"]:t.Sheng==this.index?["子孙","孙"]:["兄弟","兄"]}},{key:"Name",get:function(){return this.name}},{key:"Index",get:function(){return this.index}},{key:"Ke",get:function(){return(this.index+2)%5}},{key:"Sheng",get:function(){return(this.index+1)%5}}]),h);function h(t,n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,h),this.name=t,this.index=n}e.WuXing=r;var s=[];s.push(new r("金",0)),s.push(new r("水",1)),s.push(new r("木",2)),s.push(new r("火",3)),s.push(new r("土",4)),e.FetchWuXing=function(n){if("number"==typeof n){if(0<=n&&n<=4)return s[n];throw new RangeError("WuXing index out of range: "+n)}var t=s.filter(function(t){return t.Name==n});if(t&&1==t.length)return t[0];throw new RangeError("WuXing name out of range: "+n)}},{}],8:[function(t,n,e){var r="";for(r+="420,3,0,南朝/宋,武帝,刘裕,永初,423,2,0,南朝/宋,少帝,刘义符,景平,424,30,0,南朝/宋,文帝,刘義隆,元嘉,454,3,0,南朝/宋,孝武,帝刘骏,孝建,457,8,0,南朝/宋,孝武,帝刘骏,大明,465,1,0,南朝/宋,废帝,刘子业,永光,465,1,0,南朝/宋,废帝,刘子业,景和,465,7,0,南朝/宋,明帝,刘彧,泰始,472,1,0,南朝/宋,明帝,刘彧,泰豫,473,5,0,南朝/宋,废帝,刘昱,元徽,477,3,0,南朝/宋,顺帝,刘准,升明,479,4,0,南朝/齐,高帝,萧道成,建元,483,11,0,南朝/齐,武帝,萧赜,永明,494,1,0,南朝/齐,欎林王,萧昭业,隆昌,494,1,0,南朝/齐,海陵王,萧昭文,延兴,",r+="494,5,0,南朝/齐,明帝,萧鸾,建武,498,1,0,南朝/齐,明帝,萧鸾,永泰,499,3,0,南朝/齐,东昏侯,萧宝,中兴,501,2,0,南朝/齐,和帝,萧宝融,中兴,502,18,0,南朝/梁,武帝,萧衍,天监,520,8,0,南朝/梁,武帝,萧衍,普通,527,3,0,南朝/梁,武帝,萧衍,大通,529,6,0,南朝/梁,武帝,萧衍,中大通,535,12,0,南朝/梁,武帝,萧衍,大同,546,2,0,南朝/梁,武帝,萧衍,中大同,547,3,0,南朝/梁,武帝,萧衍,太清,550,2,0,南朝/梁,简文帝,萧纲,大宝,551,2,0,南朝/梁,豫章王,萧栋,天正,552,4,0,南朝/梁,元帝,萧绎,承圣,555,1,0,南朝/梁,贞阳侯,萧渊明,天成,",r+="555,2,0,南朝/梁,敬帝,萧方智,绍泰,556,2,0,南朝/梁,敬帝,萧方智,太平,557,3,0,南朝/陈,武帝,陈霸先,太平,560,7,0,南朝/陈,文帝,陈蒨,天嘉,566,1,0,南朝/陈,文帝,陈蒨,天康,567,2,0,南朝/陈,废帝,陈伯宗,光大,569,14,0,南朝/陈,宣帝,陈顼,太建,583,4,0,南朝/陈,后主,陈叔宝,至德,587,3,0,南朝/陈,后主,陈叔宝,祯明,555,8,0,南朝/后梁,宣帝,萧詧,大定,562,24,0,南朝/后梁,明帝,萧岿,天保,586,2,0,南朝/后梁,莒公,萧琮,广运,386,11,0,北朝/北魏,道武帝,拓跋圭,登国,396,3,0,北朝/北魏,道武帝,拓跋圭,皇始,398,7,0,北朝/北魏,道武帝,拓跋圭,天兴,",r+="404,6,0,北朝/北魏,道武帝,拓跋圭,天赐,409,5,0,北朝/北魏,明元帝,拓跋嗣,永兴,414,3,0,北朝/北魏,明元帝,拓跋嗣,神瑞,416,8,0,北朝/北魏,明元帝,拓跋嗣,泰常,424,5,0,北朝/北魏,太武帝,拓跋焘,始光,428,4,0,北朝/北魏,太武帝,拓跋焘,神麚,432,3,0,北朝/北魏,太武帝,拓跋焘,延和,435,6,0,北朝/北魏,太武帝,拓跋焘,太延,440,12,0,北朝/北魏,太武帝,拓跋焘,太平真君,451,2,0,北朝/北魏,太武帝,拓跋焘,正平,452,1,0,北朝/北魏,南安王,拓跋余,承平,452,3,0,北朝/北魏,文成帝,拓跋浚,兴安,454,2,0,北朝/北魏,文成帝,拓跋浚,兴光,455,5,0,北朝/北魏,文成帝,拓跋浚,太安,460,6,0,北朝/北魏,文成帝,拓跋浚,和平,",r+="466,2,0,北朝/北魏,献文帝,拓跋弘,天安,467,5,0,北朝/北魏,献文帝,拓跋弘,皇兴,471,6,0,北朝/北魏,教文帝,拓跋宏,延兴,476,1,0,北朝/北魏,孝文帝,拓跋宏,承明,477,23,0,北朝/北魏,孝文帝,拓跋宏,太和,500,4,0,北朝/北魏,宣武帝,元恪,景明,504,5,0,北朝/北魏,宣武帝,元恪,正始,508,5,0,北朝/北魏,宣武帝,元恪,永平,512,4,0,北朝/北魏,宣武帝,元恪,延昌,516,3,0,北朝/北魏,孝明帝,元诩,熙平,518,3,0,北朝/北魏,孝明帝,元诩,神龟,520,6,0,北朝/北魏,孝明帝,元诩,正光,525,3,0,北朝/北魏,孝明帝,元诩,孝昌,528,1,0,北朝/北魏,孝明帝,元诩,武泰,528,1,0,北朝/北魏,孝庄帝,元子攸,建义,",r+="528,3,0,北朝/北魏,孝庄帝,元子攸,永安,530,2,0,北朝/北魏,东海王,元晔,建明,531,2,0,北朝/北魏,节闵帝,元恭,普泰,531,2,0,北朝/北魏,安定王,元朗,中兴,532,1,0,北朝/北魏,孝武帝,元修,太昌,532,1,0,北朝/北魏,孝武帝,元修,永兴,532,3,0,北朝/北魏,孝武帝,元修,永熙,534,4,0,北朝/东魏,孝静帝,元善见,天平,538,2,0,北朝/东魏,孝静帝,元善见,元象,539,4,0,北朝/东魏,孝静帝,元善见,兴和,543,8,0,北朝/东魏,孝静帝,元善见,武定,535,17,0,北朝/西魏,文帝,元宝炬,大统,552,3,0,北朝/西魏,废帝,元钦,大统,554,3,0,北朝/西魏,恭帝,元廓,大统,550,10,0,北朝/北齐,文宣帝,高洋,天保,",r+="560,1,0,北朝/北齐,废帝,高殷,乾明,560,2,0,北朝/北齐,孝昭帝,高演,皇建,561,2,0,北朝/北齐,武成帝,高湛,太宁,562,4,0,北朝/北齐,武成帝,高湛,河清,565,5,0,北朝/北齐,温公,高纬,天统,570,7,0,北朝/北齐,温公,高纬,武平,576,2,0,北朝/北齐,温公,高纬,隆化,576,1,0,北朝/北齐,安德王,高延宗,德昌,577,1,0,北朝/北齐,幼主,高恒,承光,557,1,0,北朝/北周,闵帝,宇文觉,空,557,2,0,北朝/北周,明帝,宇文毓,空,559,2,0,北朝/北周,明帝,宇文毓,武成,561,5,0,北朝/北周,武帝,宇文邕,保定,566,7,0,北朝/北周,武帝,宇文邕,天和,572,7,0,北朝/北周,武帝,宇文邕,建德,",r+="578,1,0,北朝/北周,武帝,宇文邕,宣政,579,1,0,北朝/北周,宣帝,宇文贇,大成,579,2,0,北朝/北周,静帝,宇文衍,大象,581,1,0,北朝/北周,静帝,宇文衍,大定,581,20,0,隋,文帝,杨坚,开皇,601,4,0,隋,文帝,杨坚,仁寿,605,13,0,隋,炀帝,杨广,大业,617,2,0,隋,恭帝,杨侑,义宁,618,9,0,唐,高祖,李渊,武德,627,23,0,唐,太宗,李世民,贞观,650,6,0,唐,高宗,李治,永徽,656,6,0,唐,高宗,李治,显庆,661,3,0,唐,高宗,李治,龙朔,664,2,0,唐,高宗,李治,麟德,666,3,0,唐,高宗,李治,乾封,",r+="668,3,0,唐,高宗,李治,总章,670,5,0,唐,高宗,李治,咸亨,674,3,0,唐,高宗,李治,上元,676,4,0,唐,高宗,李治,仪凤,679,2,0,唐,高宗,李治,调露,680,2,0,唐,高宗,李治,永隆,681,2,0,唐,高宗,李治,开耀,682,2,0,唐,高宗,李治,永淳,683,1,0,唐,高宗,李治,弘道,684,1,0,唐,中宗,李显,嗣圣,684,1,0,唐,睿宗,李旦,文明,684,1,0,武周,则天后,武曌,光宅,685,4,0,武周,则天后,武曌,垂拱,689,1,0,武周,则天后,武曌,永昌,689,2,0,武周,则天后,武曌,载初,",r+="690,3,0,武周,则天后,武曌,天授,692,1,0,武周,则天后,武曌,如意,692,3,0,武周,则天后,武曌,长寿,694,1,0,武周,则天后,武曌,延载,695,1,0,武周,则天后,武曌,证圣,695,2,0,武周,则天后,武曌,天册万岁,696,1,0,武周,则天后,武曌,万岁登封,696,2,0,武周,则天后,武曌,万岁通天,697,1,0,武周,则天后,武曌,神功,698,3,0,武周,则天后,武曌,圣历,700,1,0,武周,则天后,武曌,久视,701,1,0,武周,则天后,武曌,大足,701,4,0,武周,则天后,武曌,长安,705,1,0,武周,则天后,李显,神龙,705,2,0,唐,中宗,李显,神龙,",r+="707,4,0,唐,中宗,李显,景龙,710,1,0,唐,温王,李重茂,唐隆,710,2,0,唐,睿宗,李旦,景云,712,1,0,唐,睿宗,李旦,太极,712,1,0,唐,睿宗,李旦,延和,712,2,0,唐,玄宗,李隆基,先天,713,29,0,唐,玄宗,李隆基,开元,742,15,0,唐,玄宗,李隆基,天宝,756,3,0,唐,肃宗,李亨,至德,758,3,0,唐,肃宗,李亨,乾元,760,3,0,唐,肃宗,李亨,上元,762,2,0,唐,肃宗,李亨,宝应,763,2,0,唐,代宗,李豫,广德,765,2,0,唐,肃宗,李亨,永泰,766,14,0,唐,肃宗,李亨,大历,",r+="780,4,0,唐,德宗,李适,建中,784,1,0,唐,德宗,李适,兴元,785,21,0,唐,德宗,李适,贞元,805,1,0,唐,顺宗,李诵,永贞,806,15,0,唐,宪宗,李纯,元和,821,4,0,唐,穆宗,李恒,长庆,825,3,0,唐,敬宗,李湛,宝历,827,9,0,唐,文宗,李昂,大和,836,5,0,唐,文宗,李昂,开成,841,6,0,唐,武宗,李炎,会昌,847,14,0,唐,宣宗,李忱,大中,860,15,0,唐,宣宗,李忱,咸通,874,6,0,唐,僖宗,李儇,乾符,880,2,0,唐,僖宗,李儇,广明,881,5,0,唐,僖宗,李儇,中和,",r+="885,4,0,唐,僖宗,李儇,光启,888,1,0,唐,僖宗,李儇,文德,889,1,0,唐,昭宗,李晔,龙纪,890,2,0,唐,昭宗,李晔,大顺,892,2,0,唐,昭宗,李晔,景福,894,5,0,唐,昭宗,李晔,乾宁,898,4,0,唐,昭宗,李晔,光化,901,4,0,唐,昭宗,李晔,天复,904,1,0,唐,昭宗,李晔,天佑,905,3,1,唐,昭宣帝,李祝,天佑,907,5,0,五代/梁,太祖,朱温,开平,911,2,0,五代/梁,太祖,朱温,乾化,913,1,0,五代/梁,庶人,朱友圭,凤历,913,3,2,五代/梁,末帝,朱友贞,乾化,915,7,0,五代/梁,末帝,朱友贞,贞明,",r+="921,3,0,五代/梁,末帝,朱友贞,龙德,923,4,0,五代/唐,庄宗,李存勗,同光,926,5,0,五代/唐,明宗,李嗣源,天成,930,4,0,五代/唐,明宗,李嗣源,长兴,934,1,0,五代/唐,闵帝,李从厚,应顺,934,3,0,五代/唐,潞王,李从珂,清泰,936,6,0,五代/晋,高祖,石敬瑭,天福,942,2,6,五代/晋,出帝,石重贵,天福,944,3,0,五代/晋,出帝,石重贵,开运,947,12,0,五代/汉,高祖,刘知远,天福,948,1,0,五代/汉,隐帝,刘承祐,乾祐,948,3,0,五代/汉,隐帝,刘承祐,乾祐,951,3,0,五代/周,太祖,郭威,广顺,954,1,0,五代/周,太祖,郭威,显德,954,6,0,五代/周,世宗,柴荣,显德,",r+="959,2,5,五代/周,恭帝,郭宗训,显德,960,4,0,北宋,太祖,赵匡胤,建隆,963,6,0,北宋,太祖,赵匡胤,乾德,968,9,0,北宋,太祖,赵匡胤,开宝,976,9,0,北宋,太宗,赵炅,太平兴国,984,4,0,北宋,太宗,赵炅,雍熙,988,2,0,北宋,太宗,赵炅,端拱,990,5,0,北宋,太宗,赵炅,淳化,995,3,0,北宋,太宗,赵炅,至道,998,6,0,北宋,真宗,赵恒,咸平,1004,4,0,北宋,真宗,赵恒,景德,1008,9,0,北宋,真宗,赵恒,大中祥符,1017,5,0,北宋,真宗,赵恒,天禧,1022,1,0,北宋,真宗,赵恒,乾兴,1023,10,0,北宋,仁宗,赵祯,天圣,",r+="1032,2,0,北宋,仁宗,赵祯,明道,1034,5,0,北宋,仁宗,赵祯,景祐,1038,3,0,北宋,仁宗,赵祯,宝元,1040,2,0,北宋,仁宗,赵祯,康定,1041,8,0,北宋,仁宗,赵祯,庆历,1049,6,0,北宋,仁宗,赵祯,皇祐,1054,3,0,北宋,仁宗,赵祯,至和,1056,8,0,北宋,仁宗,赵祯,嘉祐,1064,4,0,北宋,英宗,赵曙,治平,1068,10,0,北宋,神宗,赵顼,熙宁,1078,8,0,北宋,神宗,赵顼,元丰,1086,9,0,北宋,哲宗,赵煦,元祐,1094,5,0,北宋,哲宗,赵煦,绍圣,1098,3,0,北宋,哲宗,赵煦,元符,1101,1,0,北宋,徽宗,赵佶,建中靖国,",r+="1102,5,0,北宋,徽宗,赵佶,崇宁,1107,4,0,北宋,徽宗,赵佶,大观,1111,8,0,北宋,徽宗,赵佶,政和,1118,2,0,北宋,徽宗,赵佶,重和,1119,7,0,北宋,徽宗,赵佶,宣和,1126,2,0,北宋,钦宗,赵桓,靖康,1127,4,0,南宋,高宗,赵构,建炎,1131,32,0,南宋,高宗,赵构,绍兴,1163,2,0,南宋,孝宗,赵慎,隆兴,1165,9,0,南宋,孝宗,赵慎,乾道,1174,16,0,南宋,孝宗,赵慎,淳熙,1190,5,0,南宋,光宗,赵暴,绍熙,1195,6,0,南宋,宁宗,赵扩,庆元,1201,4,0,南宋,宁宗,赵扩,嘉泰,1205,3,0,南宋,宁宗,赵扩,开禧,",r+="1208,17,0,南宋,宁宗,赵扩,嘉定,1225,3,0,南宋,理宗,赵昀,宝庆,1228,6,0,南宋,理宗,赵昀,绍定,1234,3,0,南宋,理宗,赵昀,端平,1237,4,0,南宋,理宗,赵昀,嘉熙,1241,12,0,南宋,理宗,赵昀,淳祐,1253,6,0,南宋,理宗,赵昀,寶祐,1259,1,0,南宋,理宗,赵昀,开庆,1260,5,0,南宋,理宗,赵昀,景定,1265,10,0,南宋,度宗,赵禥,咸淳,1275,2,0,南宋,恭宗,赵(上“日”下“丝”),德祐 ,1276,3,0,南宋,端宗,赵(上“日”下“正”),景炎,1278,2,0,南宋,帝昺,赵昺,祥兴,1271,24,7,元,世祖,孛儿只斤·忽必烈,至元,1295,3,0,元,成宗,孛儿只斤·铁穆耳,元贞,",r+="1297,11,0,元,成宗,孛儿只斤·铁穆耳,大德,1308,4,0,元,武宗,孛儿只斤·海山,至大,1312,2,0,元,仁宗,孛儿只斤·爱育黎拔力八达,皇庆,1314,7,0,元,仁宗,孛儿只斤·愛育黎拔力八達,延祐,1321,3,0,元,英宗,孛儿只斤·宗硕德八剌,至治,1324,5,0,元,泰定帝,孛儿只斤·也孙铁木耳,泰定,1328,1,0,元,泰定帝,孛儿只斤·也孙铁木耳,至和,1328,1,0,元,幼主,孛儿只斤·阿速吉八,天顺,1328,3,0,元,文宗,孛儿只斤·图贴睦尔,天历,1330,3,0,元,文宗,孛儿只斤·图贴睦尔,至顺,1333,3,0,元,惠宗,孛儿只斤·妥镤贴睦尔,元统,1335,6,0,元,惠宗,孛儿只斤·妥镤贴睦尔,至元,1341,28,0,元,惠宗,孛儿只斤·妥镤贴睦尔,至正,1368,31,0,明,太祖,朱元璋,洪武,1399,4,0,明,惠帝,朱允溫,建文,",r+="1403,22,0,明,成祖,朱棣,永乐,1425,1,0,明,仁宗,朱高炽,洪熙,1426,10,0,明,宣宗,朱瞻基,宣德,1436,14,0,明,英宗,朱祁镇,正统,1450,7,0,明,代宗,朱祁钰,景泰,1457,8,0,明,英宗,朱祁镇,天顺,1465,23,0,明,宪宗,朱见深,成化,1488,18,0,明,孝宗,朱祐樘,弘治,1506,16,0,明,武宗,朱厚照,正德,1522,45,0,明,世宗,朱厚熜,嘉靖,1567,6,0,明,穆宗,朱载贺,隆庆,1573,48,0,明,神宗,朱翊钧,万历,1620,1,0,明,光宗,朱常洛,泰昌,1621,7,0,明,熹宗,朱同校,天启,1628,17,0,明,毅宗,朱由检,崇祯,",r=(r+="1644,18,0,清,世祖,爱新觉罗福临,顺治,1662,61,0,清,圣祖,爱新觉罗玄烨,康熙,1723,13,0,清,世宗,爱新觉罗胤禛,雍正,1736,60,0,清,高宗,爱新觉罗弘历,乾隆,1796,25,0,清,仁宗,爱新觉罗颙琰,嘉庆,1821,30,0,清,宣宗,爱新觉罗旻宁,道光,1851,11,0,清,文宗,爱新觉罗奕詝,咸丰,1862,13,0,清,穆宗,爱新觉罗载淳,同治,1875,34,0,清,德宗,爱新觉罗载湉,光绪,1909,3,0,清,无朝,爱新觉罗溥仪,宣统,1912,37,0,现代,中国,国民党,民国,1949,9999,0,现代,中国,共产党,共和国").split(","),i=0;i<r.length;i+=7)r[i]-=0,r[i+1]-=0,r[i+2]-=0;function w(t){var n,e,i,a;for(this.nh=this.nh2="",n=0;n<r.length;n+=7)t<(e=r[n])||t>=e+r[n+1]||(a="["+r[n+3]+"]",i=r[n+6]+(t-e+1+r[n+2])+"年",this.nh=a+i,this.nh2+=a+r[n+4]+" "+r[n+5]+" "+i+"; ")}var a={c76852:-1,c76933:1,c77005:-1,c77042:1,c77103:-1,c77162:-1,c77174:-1,c77260:-1,c77275:-1,c77277:1,c77383:-1,c77403:1,c77410:-1,c77720:-1,c77732:-1,c77846:1,c77855:-1,c77926:-1,c77935:1,c77968:-1,c78059:1,c78072:-1,c78221:1,c78273:-1,c78349:-1,c78413:-1,c78417:1,c78445:1,c78499:-1,c78604:1,c78681:-1,c78700:1,c78715:1,c78735:-1,c78739:1,c78839:-1,c78984:1,c79123:-1,c79149:-1,c79239:-1,c79367:1,c79408:-1,c79561:-1,c80040:-1,c80095:-1,c80275:-1,c80291:-1,c80395:-1,c80415:-1,c80500:-1,c80601:-1,c80810:1,c80931:-1,c81064:-1,c81324:-1,c81544:1,c81733:-1,c81965:-1,c81980:-1,c82039:-1},u=new Array(76854,76922,76955,77057,77090,77156,77191,77224,77257,77292,77324,77392,77425,77459,77493,77526,77559,77628,77661,77727,77762,77795,77828,77863,77895,77929,77963,77996,78030,78098,78130,78198,78231,78265,78333,78366,78399,78466,78500,78533,78567,78634,78668,78701,78802,78833,79645);function o(t){return L((t+J2000+34)/29.5306)}function y(t){return(t%=2*Math.PI)<0?t+2*Math.PI:t}function x(t,n){var e=t/n;return.5<(e-=Math.floor(e))&&(e-=1),e*n}function L(t){return Math.floor(t)}rad=648e3/Math.PI,J2000=2451545,pi2=2*Math.PI;var M={Y:2e3,M:1,D:1,h:12,m:0,s:0,dts:new Array(-4e3,108371.7,-13036.8,392,0,-500,17201,-627.82,16.17,-.3413,-150,12200.6,-346.41,5.403,-.1593,150,9113.8,-328.13,-1.647,.0377,500,5707.5,-391.41,.915,.3145,900,2203.4,-283.45,13.034,-.1778,1300,490.1,-57.35,2.085,-.0072,1600,120,-9.81,-1.532,.1403,1700,10.2,-.91,.51,-.037,1800,13.4,-.72,.202,-.0193,1830,7.8,-1.81,.416,-.0247,1860,8.3,-.13,-.406,.0292,1880,-5.4,.32,-.183,.0173,1900,-2.3,2.06,.169,-.0135,1920,21.2,1.69,-.304,.0167,1940,24.2,1.22,-.064,.0031,1960,33.2,.51,.231,-.0109,1980,51,1.29,-.026,.0032,2e3,63.87,.1,0,0,2005),deltatExt:function(t,n){var e=(t-1820)/100;return n*e*e-20},deltatT:function(t){if(2005<=t){var n=2014;if(t<=n)return 64.7+.4*(t-2005);var e=this.deltatExt(t,31),i=this.deltatExt(n,31)-68.3;return t<2114&&(e-=i*(2114-t)/100),e}var a,r=this.dts;for(a=0;a<r.length&&!(t<r[a+5]);a+=5);var h=(t-r[a])/(r[a+5]-r[a])*10,s=h*h,u=s*h;return r[a+1]+r[a+2]*h+r[a+3]*s+r[a+4]*u},deltatT2:function(t){return this.deltatT(t/365.2425+2e3)/86400},toJD:function(){var t=this.Y,n=this.M,e=0;return n<=2&&(n+=12,t--),588829<=372*this.Y+31*this.M+this.D&&(e=2-(e=L(t/100))+L(e/4)),e+=L(365.25*(t+4716)+.01),e+=L(30.6*(n+1))+this.D,e+=((this.s/60+this.m)/60+this.h)/24-1524.5},setFromJD:function(t){var n,e=L(t+=.5),i=t-e;2299161<=e&&(e+=1+(n=L((e-1867216.25)/36524.25))-L(n/4)),e+=1524,this.Y=L((e-122.1)/365.25),n=e-L(365.25*this.Y),this.M=L(n/30.6001),this.D=n-L(30.6001*this.M),this.Y-=4716,this.M--,12<this.M&&(this.M-=12),this.M<=2&&this.Y++,i*=24,this.h=L(i),i-=this.h,i*=60,this.m=L(i),i-=this.m,i*=60,this.s=i},toStr:function(){var t="     "+this.Y,n="0"+this.M,e="0"+this.D,i=this.h,a=this.m,r=L(this.s+.5);return 60<=r&&(r-=60,a++),60<=a&&(a-=60,i++),i="0"+i,a="0"+a,r="0"+r,(t=t.substr(t.length-5,5))+"-"+(n=n.substr(n.length-2,2))+"-"+(e=e.substr(e.length-2,2))+" "+(i=i.substr(i.length-2,2))+":"+(a=a.substr(a.length-2,2))+":"+(r=r.substr(r.length-2,2))},timeStr:function(t){var n,e,i;return t+=.5,t-=L(t),t*=24,t-=n=L(t),t*=60,t-=e=L(t),60<=(i=L((t*=60)+.5))&&(i-=60,e++),60<=e&&(e-=60,n++),e="0"+e,i="0"+i,(n="0"+n).substr(n.length-2,2)+":"+e.substr(e.length-2,2)+":"+i.substr(i.length-2,2)}},h={llrConv:function(t,n){var e=Math.sin(n),i=Math.cos(n),a=Math.sin(t[0]),r=Math.cos(t[0]),h=Math.sin(t[1]),s=Math.cos(t[1]),u=Math.tan(t[1]);t[0]=Math.atan2(a*i-u*e,r),t[1]=Math.asin(i*h+e*s*a),t[0]=y(t[0])},nutB:new Array(2.1824,-33.75705,36e-6,-1720,920,3.5069,1256.66393,11e-6,-132,57,1.3375,16799.4182,-51e-6,-23,10,4.3649,-67.5141,72e-6,21,-9,.04,-628.302,0,-14,0,2.36,8328.691,0,7,0,3.46,1884.966,0,-5,2,5.44,16833.175,0,-4,2,3.69,25128.11,0,-3,0,3.55,628.362,0,2,0),nutation:function(t){var n,e,i,a=t*t,r=this.nutB,h=0,s=0;for(n=0;n<r.length;n+=5)e=r[n]+r[n+1]*t+r[n+2]*a,i=0==n?-1.742*t:0,h+=(r[n+3]+i)*Math.sin(e),s+=r[n+4]*Math.cos(e);this.dL=h/100/rad,this.dE=s/100/rad},nutationLon:function(t){var n,e,i=t*t,a=0,r=this.nutB;for(n=0;n<r.length;n+=5)e=0==n?-1.742*t:0,a+=(r[n+3]+e)*Math.sin(r[n]+r[n+1]*t+r[n+2]*i);return a/100/rad},hcjj:function(t){var n=t*t,e=n*t;return(84381.4088-46.836051*t-1667e-7*n-.00199911*e-523e-9*(e*t))/rad},gst:function(t,n){var e=(t+n)/36525,i=e*e,a=i*e;return pi2*(.779057273264+1.0027378119113546*t)+(.014506+4612.15739966*e+1.39667721*i-9344e-8*a+1882e-8*(a*e))/rad},gxc_sunLon:function(t){var n=628.301955*t-.043126-2732e-9*t*t;return-20.49552*(1+(.016708634-42037e-9*t-1.267e-7*t*t)*Math.cos(n))/rad},gxc_sunLat:function(t){return 0},gxc_moonLon:function(t){return-34e-7},gxc_moonLat:function(t){return.063*Math.sin(.057+8433.4662*t+64e-6*t*t)/rad},AR:function(t){return-2909e-7/Math.tan(t+.002227/(t+.07679))},AR2:function(t){return 2967e-7/Math.tan(t+.003138/(t+.08919))},parallax:function(t,n,e,i){var a=8.794/rad/t[2],r=.99664719,h=Math.atan(r*Math.tan(e)),s=-a*(Math.sin(h)*r+i*Math.sin(e)/6378.14),u=-a*(Math.cos(h)+i*Math.cos(e)/6378.14),o=Math.sin(n),c=Math.cos(n),l=Math.sin(t[1]),f=Math.cos(t[1]),g=Math.atan(u*o/(f+u*c));t[1]=Math.atan((l+s)/(f+u*c)*Math.cos(g)),t[0]=y(t[0]+g)}},b={EL:new Array(new Array(33416565,4.6692568,6283.07584999,348943,4.626102,12566.1517,34971,2.74412,5753.38488,34176,2.82887,3.52312,31359,3.62767,77713.77147,26762,4.41808,7860.41939,23427,6.13516,3930.2097,13243,.74246,11506.76977,12732,2.0371,529.69097,11992,1.10963,1577.34354,9903,5.2327,5884.9268,9019,2.0451,26.2983,8572,3.5085,398.149,7798,1.1788,5223.6939,7531,2.5334,5507.5532,5053,4.5829,18849.2275,4924,4.2051,775.5226,3567,2.9195,.0673,3171,5.849,11790.6291,2841,1.8987,796.298,2710,.3149,10977.0788,2428,.3448,5486.7778,2062,4.8065,2544.3144,2054,1.8695,5573.1428,2023,2.4577,6069.7768,1555,.8331,213.2991,1322,3.4112,2942.4634,1262,1.083,20.7754,1151,.6454,.9803,1029,.636,4694.003,1019,.9757,15720.8388,1017,4.2668,7.1135,992,6.21,2146.165,976,.681,155.42,858,5.983,161000.686,851,1.299,6275.962,847,3.671,71430.696,796,1.808,17260.155,788,3.037,12036.461,747,1.755,5088.629,739,3.503,3154.687,735,4.679,801.821,696,.833,9437.763,624,3.978,8827.39,611,1.818,7084.897,570,2.784,6286.599,561,4.387,14143.495,556,3.47,6279.553,520,.189,12139.554,516,1.333,1748.016,511,.283,5856.478,490,.487,1194.447,410,5.368,8429.241,409,2.399,19651.048,392,6.168,10447.388,368,6.041,10213.286,366,2.57,1059.382,360,1.709,2352.866,356,1.776,6812.767,333,.593,17789.846,304,.443,83996.847,300,2.74,1349.867,254,3.165,4690.48,247,.215,3.59,237,.485,8031.092,236,2.065,3340.612,228,5.222,4705.732,219,5.556,553.569,214,1.426,16730.464,211,4.148,951.718,203,.371,283.859,199,5.222,12168.003,199,5.775,6309.374,191,3.822,23581.258,189,5.386,149854.4,179,2.215,13367.973,175,4.561,135.065,162,5.988,11769.854,151,4.196,6256.778,144,4.193,242.729,143,3.724,38.028,140,4.401,6681.225,136,1.889,7632.943,125,1.131,5.523,121,2.622,955.6,120,1.004,632.784,113,.177,4164.312,108,.327,103.093,105,.939,11926.254,105,5.359,1592.596,103,6.2,6438.496,100,6.029,5746.271,98,1,11371.7,98,5.24,27511.47,94,2.62,5760.5,92,.48,522.58,92,4.57,4292.33,90,5.34,6386.17,86,4.17,7058.6,84,3.3,7234.79,84,4.54,25132.3,81,6.11,4732.03,81,6.27,426.6,80,5.82,28.45,79,1,5643.18,78,2.96,23013.54,77,3.12,7238.68,76,3.97,11499.66,73,4.39,316.39,73,.61,11513.88,72,4,74.78,71,.32,263.08,68,5.91,90955.55,66,3.66,17298.18,65,5.79,18073.7,63,4.72,6836.65,62,1.46,233141.31,61,1.07,19804.83,60,3.32,6283.01,60,2.88,6283.14,55,2.45,12352.85),new Array(2060589,2.6782346,6283.07585,43034,2.63513,12566.1517,4253,1.5905,3.5231,1193,5.7956,26.2983,1090,2.9662,1577.3435,935,2.592,18849.228,721,1.138,529.691,678,1.875,398.149,673,4.409,5507.553,590,2.888,5223.694,560,2.175,155.42,454,.398,796.298,364,.466,775.523,290,2.647,7.114,208,5.341,.98,191,1.846,5486.778,185,4.969,213.299,173,2.991,6275.962,162,.032,2544.314,158,1.43,2146.165,146,1.205,10977.079,125,2.834,1748.016,119,3.258,5088.629,118,5.274,1194.447,115,2.075,4694.003,106,.766,553.569,100,1.303,6286.599,97,4.24,1349.87,95,2.7,242.73,86,5.64,951.72,76,5.3,2352.87,64,2.65,9437.76,61,4.67,4690.48,58,1.77,1059.38,53,.91,3154.69,52,5.66,71430.7,52,1.85,801.82,50,1.42,6438.5,43,.24,6812.77,43,.77,10447.39,41,5.24,7084.9,37,2,8031.09,36,2.43,14143.5,35,4.8,6279.55,34,.89,12036.46,34,3.86,1592.6,33,3.4,7632.94,32,.62,8429.24,32,3.19,4705.73,30,6.07,4292.33,30,1.43,5746.27,29,2.32,20.36,27,.93,5760.5,27,4.8,7234.79,25,6.22,6836.65,23,5,17789.85,23,5.67,11499.66,21,5.2,11513.88,21,3.96,10213.29,21,2.27,522.58,21,2.22,5856.48,21,2.55,25132.3,20,.91,6256.78,19,.53,3340.61,19,4.74,83996.85,18,1.47,4164.31,18,3.02,5.52,18,3.03,5753.38,16,4.64,3.29,16,6.12,5216.58,16,3.08,6681.22,15,4.2,13367.97,14,1.19,3894.18,14,3.09,135.07,14,4.25,426.6,13,5.77,6040.35,13,3.09,5643.18,13,2.09,6290.19,13,3.08,11926.25,12,3.45,536.8),new Array(87198,1.0721,6283.07585,3091,.8673,12566.1517,273,.053,3.523,163,5.188,26.298,158,3.685,155.42,95,.76,18849.23,89,2.06,77713.77,70,.83,775.52,51,4.66,1577.34,41,1.03,7.11,38,3.44,5573.14,35,5.14,796.3,32,6.05,5507.55,30,1.19,242.73,29,6.12,529.69,27,.31,398.15,25,2.28,553.57,24,4.38,5223.69,21,3.75,.98,17,.9,951.72,15,5.76,1349.87,14,4.36,1748.02,13,3.72,1194.45,13,2.95,6438.5,12,2.97,2146.17,11,1.27,161000.69,10,.6,3154.69,10,5.99,6286.6,9,4.8,5088.63,9,5.23,7084.9,8,3.31,213.3,8,3.42,5486.78,7,6.19,4690.48,7,3.43,4694,6,1.6,2544.31,6,1.98,801.82,6,2.48,10977.08,5,1.44,6836.65,5,2.34,1592.6,5,1.31,4292.33,5,3.81,149854.4,4,.04,7234.79,4,4.94,7632.94,4,1.57,71430.7,4,3.17,6309.37,3,.99,6040.35,3,.67,1059.38,3,3.18,2352.87,3,3.55,8031.09,3,1.92,10447.39,3,2.52,6127.66,3,4.42,9437.76,3,2.71,3894.18,3,.67,25132.3,3,5.27,6812.77,3,.55,6279.55),new Array(2892,5.8438,6283.0758,168,5.488,12566.152,30,5.2,155.42,13,4.72,3.52,7,5.3,18849.23,6,5.97,242.73,4,3.79,553.57,1,4.3,6286.6,1,.91,6127.66),new Array(77,4.13,6283.08,8,3.84,12566.15,4,.42,155.42),new Array(2,2.77,6283.08,1,2.01,155.42)),EB:new Array(new Array(2796,3.1987,84334.6616,1016,5.4225,5507.5532,804,3.88,5223.694,438,3.704,2352.866,319,4,1577.344,227,3.985,1047.747),new Array(90,3.9,5507.55,62,1.73,5223.69),new Array(17,1.63,84334.66)),ER:new Array(new Array(1000139888,0,0,16706996,3.09846351,6283.07584999,139560,3.055246,12566.1517,30837,5.19847,77713.77147,16285,1.17388,5753.38488,15756,2.84685,7860.41939,9248,5.4529,11506.7698,5424,4.5641,3930.2097,4721,3.661,5884.9268,3460,.9637,5507.5532,3288,5.8998,5223.6939,3068,.2987,5573.1428,2432,4.2735,11790.6291,2118,5.8471,1577.3435,1858,5.0219,10977.0788,1748,3.0119,18849.2275),new Array(1030186,1.1074897,6283.07585,17212,1.06442,12566.1517,7022,3.1416,0),new Array(43594,5.78455,6283.07585,1236,5.5793,12566.1517,123,3.142,0,88,3.63,77713.77),new Array(1446,4.2732,6283.0758,67,3.92,12566.15),new Array(39,2.56,6283.08,3,2.27,12566.15),new Array(1,1.22,6283.08)),ML:new Array(new Array(22639.59,.784758,8328.6914246,1.52292,25.07,-.1236,4586.44,.1874,7214.0628654,-2.1848,-18.86,.083,2369.91,2.54295,15542.75429,-.6618,6.2,-.041,769.03,3.1403,16657.382849,3.046,50.1,-.25,666.42,1.5277,628.301955,-.027,.1,-.01,411.6,4.8266,16866.932315,-1.28,-1.1,-.01,211.66,4.115,-1114.62856,-3.708,-44,.21,205.44,.2305,6585.76091,-2.158,-19,.09,191.96,4.8985,23871.44571,.861,31,-.16,164.73,2.5861,14914.45233,-.635,6,-.04,147.32,5.4553,-7700.38947,-1.55,-25,.12,124.99,.4861,7771.37714,-.331,3,-.02,109.38,3.8832,8956.99338,1.496,25,-.1,55.18,5.57,-1324.17803,.62,7,0,45.1,.899,25195.62374,.24,24,-.1,39.53,3.812,-8538.24089,2.8,26,-.1,38.43,4.301,22756.81716,-2.85,-13,0,36.12,5.496,24986.07427,4.57,75,-.4,30.77,1.946,14428.1257,-4.37,-38,.2,28.4,3.286,7842.3648,-2.21,-19,.1,24.36,5.641,16171.0562,-.69,6,0,18.58,4.414,-557.3143,-1.85,-22,.1,17.95,3.585,8399.6791,-.36,3,0,14.53,4.942,23243.1438,.89,31,-.2,14.38,.971,32200.1371,2.38,56,-.3,14.25,5.764,-2.3012,1.52,25,-.1,13.9,.374,31085.5086,-1.32,12,-.1,13.19,1.759,-9443.32,-5.23,-69,.3,9.68,3.1,-16029.0809,-3.1,-50,0,9.37,.3,24080.9952,-3.5,-20,0,8.61,4.16,-1742.9305,-3.7,-44,0,8.45,2.84,16100.0686,1.2,28,0,8.05,2.63,14286.1504,-.6,6,0,7.63,6.24,17285.6848,3,50,0,7.45,1.48,1256.6039,-.1,0,0,7.37,.27,5957.459,-2.1,-19,0,7.06,5.67,33.757,-.3,-4,0,6.38,4.78,7004.5134,2.1,32,0,5.74,2.66,32409.6866,-1.9,5,0,4.37,4.34,22128.5152,-2.8,-13,0,4,3.25,33524.3152,1.8,49,0,3.21,2.24,14985.44,-2.5,-16,0,2.91,1.71,24499.748,.8,31,0,2.73,1.99,13799.824,-4.3,-38,0,2.57,5.41,-7072.088,-1.6,-25,0,2.52,3.24,8470.667,-2.2,-19,0,2.49,4.07,-486.327,-3.7,-44,0,2.15,5.61,-1952.48,.6,7,0,1.98,2.73,39414.2,.2,37,0,1.93,1.57,33314.766,6.1,100,0,1.87,.42,30457.207,-1.3,12,0,1.75,2.06,-8886.006,-3.4,-47,0,1.44,2.39,-695.876,.6,7,0,1.37,3.03,-209.549,4.3,51,0,1.26,5.94,16728.371,1.2,28,0,1.22,6.17,6656.749,-4,-41,0,1.19,5.87,6099.434,-5.9,-63,0,1.18,1.01,31571.835,2.4,56,0,1.16,3.84,9585.295,1.5,25,0,1.14,5.64,8364.74,-2.2,-19,0,1.08,1.23,70.988,-1.9,-22,0,1.06,3.33,40528.829,3.9,81,0,.99,5.01,40738.378,0,30,0,.95,5.7,-17772.011,-7,-94,0,.88,.3,-.352,0,0,0,.82,3,393.021,0,0,0,.79,1.8,8326.39,3,50,0,.75,5,22614.842,1,31,0,.74,2.9,8330.993,0,0,0,.67,.7,-24357.772,-5,-75,0,.64,1.3,8393.126,-2,-19,0,.64,5.9,575.338,0,0,0,.64,1.1,23385.119,-3,-13,0,.58,5.2,24428.76,3,53,0,.58,3.5,-9095.555,1,0,0,.57,6.1,29970.88,-5,-32,0,.56,3,.329,2,25,0,.56,4,-17981.561,-2,-43,0,.56,.5,7143.075,0,0,0,.55,2.3,25614.376,5,75,0,.54,4.2,15752.304,-5,-45,0,.49,3.3,-8294.934,-2,-29,0,.49,1.7,8362.448,1,21,0,.48,1.8,-10071.622,-5,-69,0,.45,.9,15333.205,4,57,0,.45,2.1,8311.771,-2,-19,0,.43,.3,23452.693,-3,-20,0,.42,4.9,33733.865,-3,0,0,.41,1.6,17495.234,-1,0,0,.4,1.5,23314.131,-1,9,0,.39,2.1,38299.571,-4,-6,0,.38,2.7,31781.385,-2,5,0,.37,4.8,6376.211,2,32,0,.36,3.9,16833.175,-1,0,0,.36,5,15056.428,-4,-38,0,.35,5.2,-8257.704,-3,0,0,.34,4.2,157.734,0,0,0,.34,2.7,13657.848,-1,0,0,.33,5.6,41853.007,3,74,0,.32,5.9,-39.815,0,0,0,.31,4.4,21500.21,-3,0,0,.3,1.3,786.04,0,0,0,.3,5.3,-24567.32,0,0,0,.3,1,5889.88,-2,0,0,.29,4.2,-2371.23,-4,0,0,.29,3.7,21642.19,-7,-57,0,.29,4.1,32828.44,2,56,0,.29,3.5,31713.81,-1,0,0,.29,5.4,-33.78,0,0,0,.28,6,-16.92,-4,0,0,.28,2.8,38785.9,0,0,0,.27,5.3,15613.74,-3,0,0,.26,4,25823.93,0,0,0,.25,.6,24638.31,-2,0,0,.25,1.3,6447.2,0,0,0,.25,.9,141.98,-4,0,0,.25,.3,5329.16,-2,0,0,.25,.1,36.05,-4,0,0,.23,2.3,14357.14,-2,0,0,.23,5.2,2.63,0,0,0,.22,5.1,47742.89,2,63,0,.21,2.1,6638.72,-2,0,0,.2,4.4,39623.75,-4,0,0,.19,2.1,588.49,0,0,0,.19,3.1,-15400.78,-3,-50,0,.19,5.6,16799.36,-1,0,0,.18,3.9,1150.68,0,0,0,.18,1.6,7178.01,2,0,0,.18,2.6,8328.34,2,0,0,.18,2.1,8329.04,2,0,0,.18,3.2,-9652.87,-1,0,0,.18,1.7,-8815.02,-5,-69,0,.18,5.7,550.76,0,0,0,.17,2.1,31295.06,-6,0,0,.17,1.2,7211.76,-1,0,0,.16,4.5,14967.42,-1,0,0,.16,3.6,15540.45,1,0,0,.16,4.2,522.37,0,0,0,.16,4.6,15545.06,-2,0,0,.16,.5,6428.02,-2,0,0,.16,2,13171.52,-4,0,0,.16,2.3,7216.36,-4,0,0,.15,5.6,7935.67,2,0,0,.15,.5,29828.9,-1,0,0,.15,1.2,-.71,0,0,0,.15,1.4,23942.43,-1,0,0,.14,2.8,7753.35,2,0,0,.14,2.1,7213.71,-2,0,0,.14,1.4,7214.42,-2,0,0,.14,4.5,-1185.62,-2,0,0,.14,3,8000.1,-2,0,0,.13,2.8,14756.71,-1,0,0,.13,5,6821.04,-2,0,0,.13,6,-17214.7,-5,-72,0,.13,5.3,8721.71,2,0,0,.13,4.5,46628.26,-2,0,0,.13,5.9,7149.63,2,0,0,.12,1.1,49067.07,1,55,0,.12,2.9,15471.77,1,0,0),new Array(1.677,4.669,628.30196,-.03,0,0,.516,3.372,6585.7609,-2.16,-19,.1,.414,5.728,14914.4523,-.64,6,0,.371,3.969,7700.3895,1.55,25,0,.276,.74,8956.9934,1.5,25,0,.246,4.23,-2.3012,1.5,25,0,.071,.14,7842.365,-2.2,-19,0,.061,2.5,16171.056,-.7,6,0,.045,.44,8399.679,-.4,0,0,.04,5.77,14286.15,-.6,6,0,.037,4.63,1256.604,-.1,0,0,.037,3.42,5957.459,-2.1,-19,0,.036,1.8,23243.144,.9,31,0,.024,0,16029.081,3,50,0,.022,1,-1742.931,-4,-44,0,.019,3.1,17285.685,3,50,0,.017,1.3,.329,2,25,0,.014,.3,8326.39,3,50,0,.013,4,7072.088,2,25,0,.013,4.4,8330.993,0,0,0,.013,.1,8470.667,-2,-19,0,.011,1.2,22128.515,-3,0,0,.011,2.5,15542.754,-1,0,0,.008,.2,7214.06,-2,0,0,.007,4.9,24499.75,1,0,0,.007,5.1,13799.82,-4,0,0,.006,.9,-486.33,-4,0,0,.006,.7,9585.3,1,0,0,.006,4.1,8328.34,2,0,0,.006,.6,8329.04,2,0,0,.005,2.5,-1952.48,1,0,0,.005,2.9,-.71,0,0,0,.005,3.6,30457.21,-1,0,0),new Array(.0049,4.67,628.302,0,0,0,.0023,2.67,-2.301,1.5,25,0,.0015,3.37,6585.761,-2.2,-19,0,.0012,5.73,14914.452,-.6,6,0,.0011,3.97,7700.389,2,25,0,8e-4,.7,8956.993,1,25,0)),MB:new Array(new Array(18461.24,.057109,8433.4661575,-.64006,-.53,-.0029,1010.17,2.41266,16762.157582,.883,24.5,-.13,999.69,5.44004,-104.774733,2.163,25.6,-.12,623.65,.915,7109.288132,-.022,6.7,-.04,199.48,1.8153,15647.52902,-2.825,-19,.08,166.57,4.8427,-1219.40329,-1.545,-18,.09,117.26,4.1709,23976.22045,-1.302,6,-.04,61.91,4.768,25090.84901,2.41,50,-.3,33.36,3.271,15437.97956,1.5,32,-.2,31.76,1.512,8223.91669,3.69,51,-.2,29.58,.958,6480.9862,0,7,0,15.57,2.487,-9548.0947,-3.07,-43,.2,15.12,.243,32304.9119,.22,31,-.2,12.09,4.014,7737.5901,-.05,7,0,8.87,1.86,15019.2271,-2.8,-19,0,8.05,5.38,8399.7091,-.3,3,0,7.96,4.21,23347.9185,-1.3,6,0,7.43,4.89,-1847.7052,-1.5,-18,0,6.73,3.83,-16133.8556,-.9,-24,0,6.58,2.67,14323.351,-2.2,-12,0,6.46,3.16,9061.7681,-.7,0,0,6.3,.17,25300.3985,-1.9,-2,0,5.63,.8,733.0767,-2.2,-26,0,5.37,2.11,16204.8433,-1,3,0,5.31,5.51,17390.4595,.9,25,0,5.08,2.26,523.5272,2.1,26,0,4.84,6.18,-7805.1642,.6,1,0,4.81,5.14,-662.089,.3,4,0,3.98,.84,33419.5404,3.9,75,0,3.67,5.03,22652.0424,-.7,13,0,3,5.93,31190.283,-3.5,-13,0,2.8,2.18,-16971.707,3.4,27,0,2.41,3.57,22861.592,-5,-38,0,2.19,3.94,-9757.644,1.3,8,0,2.15,5.63,23766.671,3,57,0,1.77,3.31,14809.678,1.5,32,0,1.62,2.6,7318.838,-4.3,-44,0,1.58,3.87,16552.608,5.2,76,0,1.52,2.6,40633.603,1.7,56,0,1.52,.13,-17876.786,-4.6,-68,0,1.51,3.93,8399.685,-.3,0,0,1.32,4.91,16275.831,-2.9,-19,0,1.26,.99,24604.522,-1.3,6,0,1.19,2,39518.975,-2,12,0,1.13,.29,31676.61,.2,31,0,1.09,1,5852.684,0,7,0,1.02,2.53,33629.09,0,23,0,.82,.1,16066.282,1,32,0,.8,2,-33.787,0,0,0,.8,5.2,16833.145,-1,0,0,.79,1.5,-24462.547,-2,-50,0,.79,1.7,-591.101,-2,-18,0,.67,4.5,24533.535,1,28,0,.65,2.5,-10176.397,-3,-43,0,.64,1.6,25719.151,2,50,0,.63,.3,5994.66,-4,-37,0,.63,2.1,8435.767,-2,-26,0,.63,1.1,8431.165,1,25,0,.6,2.7,13695.049,-2,-12,0,.59,1.2,7666.602,2,29,0,.47,1.1,30980.734,1,38,0,.46,.1,-71.018,2,22,0,.43,2.8,-8990.78,-1,-21,0,.42,1.5,16728.401,1,28,0,.41,5.1,22023.74,-1,13,0,.38,4.3,22719.617,-1,6,0,.35,3,14880.665,0,10,0,.34,6,30561.981,-3,0,0,.33,1.6,-18086.336,0,0,0,.33,1,8467.223,-1,0,0,.31,1.9,14390.93,-3,0,0,.31,4.6,8852.22,4,51,0,.31,.6,6551.97,-2,0,0,.3,4.7,-7595.61,-4,-51,0,.3,1.9,7143.05,0,0,0,.29,3.2,-1428.95,3,0,0,.27,4.9,-2476.01,-1,0,0,.26,3.2,41748.23,5,100,0,.25,3.4,-1009.85,-6,-70,0,.24,1.9,32514.46,-4,0,0,.24,3.3,32933.21,0,0,0,.21,3.6,22233.29,-5,0,0,.21,4.4,47847.67,0,0,0,.21,3.9,23418.91,-3,0,0,.17,5.8,14951.65,-2,0,0,.16,2,38890.67,-2,0,0),new Array(.074,4.1,6480.986,0,7,0,.03,.9,7737.59,0,7,0,.022,5,15019.227,-3,-19,0,.02,1.1,23347.918,-1,6,0,.019,1.7,-1847.705,-2,-18,0,.017,5.6,16133.856,1,24,0,.016,0,9061.768,-1,0,0,.014,3.9,733.077,-2,-26,0,.013,2.4,17390.46,1,25,0,.013,5.6,8399.685,0,0,0,.013,.9,-523.527,-2,-26,0,.012,3.2,7805.164,-1,0,0,.011,3.7,8435.767,-2,0,0,.011,5.9,8431.165,1,0,0)),MR:new Array(new Array(385000.5,0,0,0,0,0,20905.4,5.497147,8328.6914246,1.52292,25.07,-.1236,3699.1,4.89979,7214.062865,-2.1848,-18.9,.083,2956,.97216,15542.75429,-.6618,6.2,-.041,569.9,1.5695,16657.382849,3.046,50,-.25,246.2,5.6858,-1114.62856,-3.708,-44,.21,204.6,1.0153,14914.45233,-.635,6,-.04,170.7,3.3277,23871.44571,.86,31,-.2,152.1,4.943,6585.76091,-2.16,-19,.1,129.6,.743,-7700.38947,-1.55,-25,.1,108.7,5.198,7771.37714,-.33,3,0,104.8,2.312,8956.99338,1.5,25,-.1,79.7,5.383,-8538.24089,2.8,26,-.1,48.9,6.24,628.302,-.03,0,0,34.8,2.73,22756.8172,-2.85,-13,0,30.8,4.071,16171.0562,-.69,6,0,24.2,1.715,7842.3648,-2.21,-19,.1,23.2,3.925,24986.0743,4.57,75,-.4,21.6,.375,14428.1257,-4.37,-38,.2,16.7,2.014,8399.6791,-.4,3,0,14.4,3.33,-9443.32,-5.2,-69,0,12.8,3.37,23243.1438,.9,31,0,11.6,5.09,31085.5086,-1.3,12,0,10.4,5.68,32200.1371,2.4,56,0,10.3,.86,-1324.178,.6,7,0,10.1,5.73,-1742.9305,-3.7,-44,0,9.9,1.06,14286.1504,-.6,6,0,8.8,4.79,-9652.8694,-.9,-18,0,8.4,5.98,-557.3143,-1.9,-22,0,7,4.67,-16029.0809,-3.1,-50,0,6.3,1.27,16100.0686,1.2,28,0,5.8,4.67,17285.6848,3,50,0,5,4.99,5957.459,-2.1,-19,0,4.4,4.6,-209.549,4.3,51,0,4.1,3.21,7004.513,2.1,32,0,4,2.77,22128.515,-2.8,-13,0,3.3,.67,14985.44,-2.5,-16,0,3.1,.11,16866.932,-1.3,0,0,2.6,.14,24499.748,.8,31,0,2.4,1.67,8470.667,-2.2,-19,0,2.1,.7,-7072.088,-1.6,-25,0,1.9,.42,13799.824,-4.3,-38,0,1.7,3.63,-8886.006,-3,-47,0,1.6,5.1,30457.207,-1,12,0,1.4,1.2,39414.2,0,37,0,1.4,6.2,23314.131,-1,9,0,1.2,2.3,9585.295,1,25,0,1.1,6.3,33314.766,6,100,0,1.1,6.2,1256.604,0,0,0,1.1,4.1,8364.74,-2,-19,0,.9,4.4,16728.371,1,28,0,.9,4.6,6656.749,-4,-41,0,.9,2.8,70.988,-2,-22,0,.8,5.7,31571.835,2,56,0,.8,5.1,-9095.555,1,0,0,.8,1,-17772.011,-7,-94,0,.8,2.7,15752.304,-5,-45,0,.7,.3,8326.39,3,50,0,.7,1.3,8330.993,0,0,0,.7,1.8,40528.829,4,81,0,.7,3.4,22614.842,1,31,0,.7,.9,-1952.48,1,7,0,.6,6,8393.126,-2,-19,0,.6,5,24080.995,-3,-20,0,.6,5.8,23385.119,-3,0,0,.5,4.3,6099.43,-6,-63,0,.5,1.8,14218.58,0,0,0,.5,5.2,7143.08,0,0,0,.5,3.4,-10071.62,-5,-69,0,.5,2.4,-17981.56,-2,0,0,.5,4.9,-8294.93,-2,0,0,.5,.2,8362.45,1,0,0,.4,4.5,29970.88,-5,0,0,.4,2.3,-24357.77,-5,-75,0,.4,1.1,13657.85,-1,0,0,.4,.5,8311.77,-2,0,0,.4,3.6,24428.76,3,53,0,.4,.7,25614.38,5,75,0,.3,5.8,-2371.23,-4,0,0,.3,.9,9166.54,-3,0,0,.3,.4,-8257.7,-3,0,0,.3,4.8,-10281.17,-1,0,0,.3,5.8,5889.88,-2,0,0,.3,.6,38299.57,-4,0,0,.3,5.6,15333.2,4,57,0,.3,2.8,21500.21,-3,0,0,.3,.7,14357.14,-2,0,0),new Array(.514,4.16,14914.4523,-.6,6,0,.382,1.8,6585.7609,-2.2,-19,0,.327,2.4,7700.3895,1.5,25,0,.264,5.45,8956.9934,1.5,25,0,.123,3.1,628.302,0,0,0,.078,.93,16171.056,-.7,6,0,.061,4.86,7842.365,-2.2,-19,0,.05,4.2,14286.15,-1,6,0,.042,5.2,8399.679,0,0,0,.032,.2,23243.144,1,31,0,.025,2.6,-1742.931,-4,-44,0,.025,1.8,5957.459,-2,-19,0,.018,4.8,16029.081,3,50,0,.014,1.5,17285.68,3,50,0,.014,1,15542.75,-1,0,0,.013,5,8326.39,3,50,0,.012,4.8,8470.67,-2,0,0,.012,2.8,8330.99,0,0,0,.011,2.4,7072.09,2,0,0,.01,5.9,22128.52,-3,0,0),new Array(.0015,4.2,14914.452,-1,6,0,.0011,1.8,6585.761,-2,-19,0,9e-4,2.4,7700.389,2,25,0,8e-4,5.5,8956.993,1,25,0)),Enn:function(t,n,e){var i,a,r,h,s,u=0,o=1;if(t==this.EL){var c=n*n,l=c*n,f=l*n;u+=1753469512+6283319653318*n+529674*c+432*l-1124*f-9*(f*n)+630*Math.cos(6+3*n)}for((e*=3)<0&&(e=t[0].length),i=0;i<t.length;i++,o*=n){for(h=L(e*(r=t[i]).length/t[0].length+.5),i&&(h+=3),h>=r.length&&(h=r.length),s=a=0;a<h;a+=3)s+=r[a]*Math.cos(r[a+1]+n*r[a+2]);u+=s*o}return u/1e9},E_coord:function(t,n,e){t/=10,n[0]=this.Enn(this.EL,t,e),n[1]=this.Enn(this.EB,t,-1),n[2]=this.Enn(this.ER,t,-1)},E_Lon:function(t,n){return this.Enn(this.EL,t/10,n)},Mnn:function(t,n,e){var i,a,r,h,s,u=0,o=1,c=n*n,l=c*n,f=l*n,g=f*n,y=n-10;for(t==this.ML&&(u+=(3.81034409+8399.684730072*n-3319e-8*c+3.11e-8*l-2.033e-10*f)*rad,u+=5028.792262*n+1.1124406*c+7699e-8*l-23479e-9*f-1.78e-8*g,0<y&&(u+=1.43*y-.866+.054*y*y)),c/=1e4,l/=1e8,f/=1e8,(e*=6)<0&&(e=t[0].length),i=0;i<t.length;i++,o*=n){for(h=L(e*(r=t[i]).length/t[0].length+.5),i&&(h+=6),h>=r.length&&(h=r.length),s=a=0;a<h;a+=6)s+=r[a]*Math.cos(r[a+1]+n*r[a+2]+c*r[a+3]+l*r[a+4]+f*r[a+5]);u+=s*o}return t!=this.MR&&(u/=rad),u},M_coord:function(t,n,e,i,a){n[0]=this.Mnn(this.ML,t,e),n[1]=this.Mnn(this.MB,t,i),n[2]=this.Mnn(this.MR,t,a)},M_Lon:function(t,n){return this.Mnn(this.ML,t,n)},E_v:function(t){var n=628.307585*t;return 628.332+21*Math.sin(1.527+n)+.44*Math.sin(1.48+2*n)+.129*Math.sin(5.82+n)*t+55e-5*Math.sin(4.21+n)*t*t},M_v:function(t){var n=8399.71-914*Math.sin(.7848+8328.691425*t+1523e-7*t*t);return n-=179*Math.sin(2.543+15542.7543*t)+160*Math.sin(.1874+7214.0629*t)+62*Math.sin(3.14+16657.3828*t)+34*Math.sin(4.827+16866.9323*t)+22*Math.sin(4.9+23871.4457*t)+12*Math.sin(2.59+14914.4523*t)+7*Math.sin(.23+6585.7609*t)+5*Math.sin(.9+25195.624*t)+5*Math.sin(2.32-7700.3895*t)+5*Math.sin(3.88+8956.9934*t)+5*Math.sin(.49+7771.3771*t)},MS_aLon:function(t,n,e){return this.M_Lon(t,n)+h.gxc_moonLon(t)-(this.E_Lon(t,e)+h.gxc_sunLon(t)+Math.PI)},S_aLon:function(t,n){return this.E_Lon(t,n)+h.nutationLon(t)+h.gxc_sunLon(t)+Math.PI},E_Lon_t:function(t){var n,e=628.3319653318;return n=(t-1.75347)/e,e=this.E_v(n),n+=(t-this.E_Lon(n,10))/e,e=this.E_v(n),n+=(t-this.E_Lon(n,-1))/e},M_Lon_t:function(t){var n,e=8399.70911033384;return n=(t-3.81034)/e,n+=(t-this.M_Lon(n,3))/e,e=this.M_v(n),n+=(t-this.M_Lon(n,20))/e,n+=(t-this.M_Lon(n,-1))/e},MS_aLon_t:function(t){var n,e=7771.37714500204;return n=(t+1.08472)/e,n+=(t-this.MS_aLon(n,3,3))/e,e=this.M_v(n)-this.E_v(n),n+=(t-this.MS_aLon(n,20,10))/e,n+=(t-this.MS_aLon(n,-1,60))/e},S_aLon_t:function(t){var n,e=628.3319653318;return n=(t-1.75347-Math.PI)/e,e=this.E_v(n),n+=(t-this.S_aLon(n,10))/e,e=this.E_v(n),n+=(t-this.S_aLon(n,-1))/e},MS_aLon_t2:function(t){var n,e=7771.37714500204,i=(n=(t+1.08472)/e)*n;return n-=(-3309e-8*i+.10976*Math.cos(.784758+8328.6914246*n+152292e-9*i)+.02224*Math.cos(.1874+7214.0628654*n-21848e-8*i)-.03342*Math.cos(4.669257+628.307585*n))/e,n+=(t-(this.M_Lon(n,20)-(4.8950632+628.3319653318*n+5297e-9*n*n+.0334166*Math.cos(4.669257+628.307585*n)+2061e-7*Math.cos(2.67823+628.307585*n)*n+349e-6*Math.cos(4.6261+1256.61517*n)-20.5/rad)))/(e=7771.38-914*Math.sin(.7848+8328.691425*n+1523e-7*n*n)-179*Math.sin(2.543+15542.7543*n)-160*Math.sin(.1874+7214.0629*n))},S_aLon_t2:function(t){var n,e=628.3319653318;return n=(t-1.75347-Math.PI)/e,n-=(5297e-9*n*n+.0334166*Math.cos(4.669257+628.307585*n)+2061e-7*Math.cos(2.67823+628.307585*n)*n)/e,n+=(t-this.E_Lon(n,8)-Math.PI+(20.5+17.2*Math.sin(2.1824-33.75705*n))/rad)/e},moonIll:function(t){var n,e,i,a,r=t*t,h=r*t,s=h*t,u=Math.PI/180;return n=297.8502042+445267.1115168*t-.00163*r+h/545868-s/113065e3,e=357.5291092+35999.0502909*t-1536e-7*r+h/2449e4,i=134.9634114+477198.8676313*t+.008997*r+h/69699-s/14712e3,n*=u,e*=u,i*=u,a=Math.PI-n+(-6.289*Math.sin(i)+2.1*Math.sin(e)-1.274*Math.sin(2*n-i)-.658*Math.sin(2*n)-.214*Math.sin(2*i)-.11*Math.sin(n))*u,(1+Math.cos(a))/2},moonRad:function(t,n){return 358473400/t*(1+6378.14*Math.sin(n)/t)}},c={L:0,fa:0,dt:0,E:.409092614,getH:function(t,n){var e=(Math.sin(t)-Math.sin(this.fa)*Math.sin(n))/Math.cos(this.fa)/Math.cos(n);return 1<Math.abs(e)?Math.PI:Math.acos(e)},Mcoord:function(t,n,e){b.M_coord((t+this.dt)/36525,e,30,20,8),h.llrConv(e,this.E),e.H=y(h.gst(t,this.dt)-this.L-e[0]),e.H>Math.PI&&(e.H-=pi2),n&&(e.H0=this.getH(.7275*6378.14/e[2]-2040/rad,e[1]))},Mt:function(t){this.dt=M.deltatT2(t),this.E=h.hcjj(t/36525),t-=x(.1726222+.966136808032357*t-.0366*this.dt-this.L/pi2,1);var n=new Array,e=.966*pi2;return n.z=n.s=n.j=n.c=n.h=t,this.Mcoord(t,1,n),n.s+=(-n.H0-n.H)/e,n.j+=(n.H0-n.H)/e,n.z+=(0-n.H)/e,this.Mcoord(n.s,1,n),n.s+=(-n.H0-n.H)/e,this.Mcoord(n.j,1,n),n.j+=(+n.H0-n.H)/e,this.Mcoord(n.z,0,n),n.z+=(0-n.H)/e,n},Scoord:function(t,n,e,i){i[0]=b.E_Lon((t+this.dt)/36525,5)+Math.PI-20.5/rad,i[1]=0,i[2]=1,h.llrConv(i,this.E),i.H=y(h.gst(t,this.dt)-this.L-i[0]),i.H>Math.PI&&(i.H-=pi2),n&&(i.H0=this.getH(-3e3/rad,i[1])),e&&(i.H1=this.getH(-Math.PI/30,i[1]))},St:function(t){this.dt=M.deltatT2(t),this.E=h.hcjj(t/36525),t-=x(t-this.L/pi2,1);var n=new Array,e=pi2;return n.z=n.s=n.j=n.c=n.h=t,this.Scoord(t,1,1,n),n.s+=(-n.H0-n.H)/e,n.j+=(n.H0-n.H)/e,n.c+=(-n.H1-n.H)/e,n.h+=(n.H1-n.H)/e,n.z+=(0-n.H)/e,this.Scoord(n.s,1,0,n),n.s+=(-n.H0-n.H)/e,this.Scoord(n.j,1,0,n),n.j+=(+n.H0-n.H)/e,this.Scoord(n.c,0,1,n),n.c+=(-n.H1-n.H)/e,this.Scoord(n.h,0,1,n),n.h+=(+n.H1-n.H)/e,this.Scoord(n.z,0,0,n),n.z+=(0-n.H)/e,n},rts:new Array,calcRTS:function(t,n,e,i,a){var r,h;if(!this.rts.length)for(var s=0;s<31;s++)this.rts[s]=new Array;for(this.L=e,this.fa=i,a/=24,s=0;s<n;s++)(h=this.rts[s]).Ms=h.Mz=h.Mj="";for(s=-1;s<=n;s++)0<=s&&s<n&&(h=c.St(t+s+a),this.rts[s].s=M.timeStr(h.s-a),this.rts[s].z=M.timeStr(h.z-a),this.rts[s].j=M.timeStr(h.j-a),this.rts[s].c=M.timeStr(h.c-a),this.rts[s].h=M.timeStr(h.h-a),this.rts[s].ch=M.timeStr(h.h-h.c-.5),this.rts[s].sj=M.timeStr(h.j-h.s-.5)),0<=(r=L((h=c.Mt(t+s+a)).s-a+.5)-t)&&r<n&&(this.rts[r].Ms=M.timeStr(h.s-a)),0<=(r=L(h.z-a+.5)-t)&&r<n&&(this.rts[r].Mz=M.timeStr(h.z-a)),0<=(r=L(h.j-a+.5)-t)&&r<n&&(this.rts[r].Mj=M.timeStr(h.j-a));this.rts.dn=n}};Lunar={Gan:new Array("甲","乙","丙","丁","戊","己","庚","辛","壬","癸"),Zhi:new Array("子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"),ShX:new Array("鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"),XiZ:new Array("摩羯","水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手"),yxmc:new Array("朔","上弦","望","下弦"),jqmc:new Array("冬至","小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪"),ymc:new Array("十一","十二","正","二","三","四","五","六","七","八","九","十"),rmc:new Array("初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"),Weeks:new Array("日","一","二","三","四","五","六","七","八","九","十"),leap:0,leap2:0,ym:new Array,zq:new Array,hs:new Array,ZQ:new Array,HS:new Array,dx:new Array,nu:new Array,lun:new Array,sayHallo:function(){return"i am Lunar"},t2BJ:function(t){return(t*=36525)-M.deltatT2(t)+8/24},calcSun_t:function(t,n,e){var i;i=e?b.S_aLon_t(t):b.S_aLon_t2(t),i=this.t2BJ(i),!e&&Math.abs(86400*x(i+.5,1))<600&&(i=b.S_aLon_t(t),i=this.t2BJ(i)),this.zq[n]=i,this.ZQ[n]=L(i+.5)},calcMoon_t:function(t,n,e){var i;i=e?b.MS_aLon_t(t):b.MS_aLon_t2(t),i=this.t2BJ(i),!e&&Math.abs(86400*x(i+.5,1))<600&&(i=b.MS_aLon_t(t),i=this.t2BJ(i)),this.hs[n]=i,this.HS[n]=function(t){var n="c"+o(t);return a[n]?t+a[n]:t}(L(i+.5))},calc:function(t,n){var e,i,a,r,h=this.ZQ,s=this.HS;for(a=(L((t+10)/365.2422)+.75)*pi2,e=0;e<14;e++)this.calcSun_t(a+e*pi2/12,e,n);for(r=b.MS_aLon((h[0]-8/24)/36525,16,8),r-=x(r,pi2),this.calcMoon_t(r,0,n),s[i=0]>h[0]&&(this.hs[1]=this.hs[0],s[1]=s[0],r-=pi2,i=1),e=0;e<15;e++)e!=i&&this.calcMoon_t(r+e*pi2,e,n);for(e=0;e<14;e++)this.ym[e]=e;if(this.leap=this.leap2=0,s[13]<=h[12]){for(e=1;s[e+1]>h[e]&&e<13;e++);for(this.leap=e;e<14;e++)this.ym[e]--}else s[14]<=h[13]&&(this.calcSun_t(a+2*pi2,"next",n),this.calcMoon_t(r+25*pi2,"next",n),s.next<h.next&&(this.ym[13]--,this.leap2=13));if(-1!=(i=function(t,n){var e,i,a=o(t[0]),r=o(t[n-1]);for(e=0;e<u.length&&!(a<=(i=u[e])&&i<=r);e++);if(u.length==e)return-1;for(e=0;e<n&&o(t[e])!=i;e++);return e==n?-1:e}(s,14))){for(e=0;e<14;e++)this.ym[e]=e;for(this.leap=this.leap2=0,s[13]<=h[12]?this.leap=i:this.leap2=i,e=i;e<14;e++)this.ym[e]--}for(e=0;e<14;e++)this.dx[e]=this.HS[e+1]-this.HS[e],this.ym[e]=this.ymc[this.ym[e]%12],e!=this.leap&&e!=this.leap2||!e?this.nu[e]="":this.nu[e]="闰";this.calcSun_t(a+11*pi2/24,"mangzhong",0),this.calcSun_t(a+13*pi2/24,"xiaoshu",0),this.calcSun_t(a+15*pi2/24,"liqiu",0),this.calcSun_t(a+3*pi2/24,"lichun",0)},calc2:function(t,n,e){var i,a,r,h,s,u,o,c,l,f,g,y,d=this.lun;if(!this.lun.length)for(var p=0;p<31;p++)this.lun[p]=new Array;for(M.h=12,M.m=0,M.s=.1,M.Y=t,M.M=n,M.D=1,h=L(M.toJD())-J2000,M.M++,12<M.M&&(M.Y++,M.M=1),s=L(M.toJD())-J2000-h,d.w0=(h+J2000+1)%7,d.y=t,d.m=n,d.d0=h,d.dn=s,r=L((h-30*n+150)/365.2422)+16+9e3,d.Ly=Lunar.Gan[r%10]+Lunar.Zhi[r%12],d.ShX=Lunar.ShX[r%12],d.nianhao=new w(d.y),o=b.S_aLon((h+M.deltatT2(h)-8/24)/36525,3),o-=x(o-pi2/24,pi2/12),(f=Math.floor(this.t2BJ(b.S_aLon_t(o))+.5))<h&&(o+=pi2/12,f=Math.floor(this.t2BJ(b.S_aLon_t(o))+.5)),g=Math.floor(this.t2BJ(b.S_aLon_t(o+pi2/12))+.5),y=L(o%pi2/pi2*12+15.501)%12,i=p=0;p<s;p++){for((c=d[p]).d0=h+p,c.di=p,c.y=t,c.m=n,c.dn=s,c.week0=d.w0,c.week=(d.w0+p)%7,c.weeki=L((d.w0+p)/7),c.weekN=L((d.w0+s-1)/7)+1,M.setFromJD(c.d0+J2000),c.d=M.D,(!this.HS.length||c.d0<this.HS[0]||c.d0>=this.HS[13]+this.dx[13])&&this.calc(c.d0,0),(i=Math.floor((c.d0-this.HS[0])/30))<13&&this.HS[i+1]<=c.d0&&i++,c.Ldi=c.d0-this.HS[i],c.Ldc=this.rmc[c.Ldi],c.cur_dz=c.d0-this.ZQ[0],c.cur_xz=c.d0-this.ZQ[6],c.cur_lq=c.d0-this.ZQ.liqiu,c.cur_mz=c.d0-this.ZQ.mangzhong,c.cur_xs=c.d0-this.ZQ.xiaoshu,180<c.cur_dz&&(c.cur_dz=c.d0-this.ZQ[12]),p||c.d0==h?(c.Lmc=this.ym[i],c.Ldn=this.dx[i],c.Lleap=this.nu[i],c.Lmc2=i<13?this.ym[i+1]:"未知"):(l=this.lun[p-1],c.Lmc=l.Lmc,c.Ldn=l.Ldn,c.Lleap=l.Lleap,c.Lmc2=l.Lmc2),c.yxmc=c.yxjd=c.yxsj="",c.jqmc=c.jqjd=c.jqsj="",u=this.ZQ.lichun+(c.d0<this.ZQ.lichun?-365:0)+5844-35,c.Lyear=Math.floor(u/365.2422+.5),u=c.Lyear+9e3,c.Lyear2=this.Gan[u%10]+this.Zhi[u%12],c.d0<f?c.Lmonth=y-1:c.d0<g?c.Lmonth=y:c.Lmonth=1+y,u=c.d0-15.2*c.Lmonth+24+365,u=12*Math.floor(u/365.2422+.4)+c.Lmonth+9e4,c.Lmonth2=this.Gan[u%10]+this.Zhi[u%12],u=(c.d0-6+9e6)%60,c.Lday2=this.Gan[u%10]+this.Zhi[u%12],u=12*(c.d0-1)+9e7,a=0,r="";a<12;a++)(o=(2*a+23)%24)<10&&(o="0"+o),r+=o+"-",(o=2*a+1)<10&&(o="0"+o),r+=o,r+=this.Gan[(u+a)%10]+this.Zhi[(u+a)%12]+"时 ",a%3==2&&(r+="<br>");c.Ltime2=r,this.getDayName(c),(i=Math.floor((c.d0-this.ZQ[0])/31))<13&&c.d0>=this.ZQ[i+1]&&i++,c.XiZ=this.XiZ[(i+12)%12]+"座",this.getHuiLi(c)}if(e){var m,v,S=h+M.deltatT2(h)-8/24;o=b.MS_aLon((3+S)/36525,10,3),o-=x(o,Math.PI/2);do{if(u=L((m=this.t2BJ(b.MS_aLon_t(o)))+.5),v=L(o%pi2/pi2*4+4.01)%4,o+=pi2/4,h+s<=u)break;u<h||((c=this.lun[u-h]).yxmc=this.yxmc[v],c.yxjd=m,c.yxsj=M.timeStr(m))}while(u+5<h+s);o=b.S_aLon((6+S)/36525,3),o-=x(o,pi2/24);do{if(u=L((m=this.t2BJ(b.S_aLon_t(o)))+.5),v=L(o%pi2/pi2*24+24.01+6)%24,o+=pi2/24,h+s<=u)break;u<h||((c=this.lun[u-h]).jqmc=this.jqmc[v],c.jqjd=m,c.jqsj=M.timeStr(m))}while(u+12<h+s)}},getHuiLi:function(t){var n,e,i,a;a=t.d0+503105,a-=10631*(n=L((a+.1)/10631)),a-=L(354.366*(e=L((a+.5)/354.366))+.5),a-=L(29.51*(i=L((a+.11)/29.51))+.5),t.Hyear=30*n+e+1,t.Hmonth=i+1,t.Hday=a+1},sFtv:new Array(new Array("01#元旦"),new Array("02I世界湿地日","10 国际气象节","14I情人节"),new Array("01 国际海豹日","03 全国爱耳日","05 1963-9999学雷锋纪念日","08I妇女节","12I植树节/ 1925-9999孙中山逝世纪念日","14 国际警察日","15I1983-9999消费者权益日","17 中国国医节/ 国际航海日","21 世界森林日/ 消除种族歧视国际日/ 世界儿歌日","22I世界水日","23I世界气象日","24 1982-9999世界防治结核病日","25 全国中小学生安全教育日","30 巴勒斯坦国土日"),new Array("01I1564-9999愚人节/ 全国爱国卫生运动月(四月)/ 税收宣传月(四月)","07I世界卫生日","22I世界地球日","23 世界图书和版权日","24 亚非新闻工作者日"),new Array("01#1889-9999劳动节","04I青年节","05 碘缺乏病防治日","08 世界红十字日","12I国际护士节","15I国际家庭日","17 国际电信日","18 国际博物馆日","20 全国学生营养日","23 国际牛奶日","31I世界无烟日"),new Array("01I1925-9999国际儿童节","05 世界环境保护日","06 全国爱眼日","17 防治荒漠化和干旱日","23 国际奥林匹克日","25 全国土地日","26I国际禁毒日"),new Array("01I1997-9999香港回归纪念日/I1921-9999中共诞辰 世界建筑日","02 国际体育记者日","07I1937-9999抗日战争纪念日","11I世界人口日","30 非洲妇女日"),new Array("01I1927-9999建军节","08 中国男子节(爸爸节)","15I1945-9999抗日战争胜利纪念"),new Array("08 1966-9999国际扫盲日 国际新闻工作者日","09 毛泽东逝世纪念","10I中国教师节","14 世界清洁地球日","16 国际臭氧层保护日","18I九·一八事变纪念日","20 国际爱牙日","27 世界旅游日","28I孔子诞辰"),new Array("01#1949-9999国庆节/ 世界音乐日/ 国际老人节","02#1949-9999国庆节假日/ 国际和平与民主自由斗争日","03#1949-9999国庆节假日","04 世界动物日","06 老人节","08 全国高血压日/ 世界视觉日","09 世界邮政日/ 万国邮联日","10I辛亥革命纪念日/ 世界精神卫生日","13 世界保健日/ 国际教师节","14 世界标准日","15 国际盲人节(白手杖节)","16 世界粮食日","17 世界消除贫困日","22 世界传统医药日","24 联合国日","31 世界勤俭日"),new Array("07 1917-9999十月社会主义革命纪念日","08 中国记者日","09 全国消防安全宣传教育日","10 世界青年节","11 国际科学与和平周(本日所属的一周)","12 孙中山诞辰纪念日","14 世界糖尿病日","17 国际大学生节/ 世界学生节","20 彝族年","21 彝族年/ 世界问候日/ 世界电视日","22 彝族年","29 国际声援巴勒斯坦人民国际日"),new Array("01I1988-9999世界艾滋病日","03 世界残疾人日","05 国际经济和社会发展志愿人员日","08 国际儿童电视日","09 世界足球日","10 世界人权日","12I西安事变纪念日","13I南京大屠杀(1937年)纪念日","20 澳门回归纪念","21 国际篮球日","24I平安夜","25I圣诞节","26 毛泽东诞辰纪念")),wFtv:new Array("0150I世界麻风日","0520 国际母亲节","0530I全国助残日","0630 父亲节","0730 被奴役国家周","0932I国际和平日","0940 国际聋人节 世界儿童日","0950I世界海事日","1011 国际住房日","1013I国际减轻自然灾害日(减灾日)","1144I感恩节"),getDayName:function(t){var n,e,i,a,r,h=(t.m<10?"0":"")+t.m,s=(t.d<10?"0":"")+t.d;for(t.A=t.B=t.C="",(t.Fjia=0)!=t.week&&6!=t.week||(t.Fjia=1),"正"==t.Lmc&&"闰"!=t.Lleap&&("初一"==t.Ldc&&(t.A+="春节 ",t.Fjia=1),"初二"==t.Ldc&&(t.B+="大年初二 ",t.Fjia=1),"初三"==t.Ldc&&(t.B+="大年初三 ",t.Fjia=1)),"五"==t.Lmc&&"初五"==t.Ldc&&"闰"!=t.Lleap&&(t.A+="端午节 ",t.Fjia=1),"八"==t.Lmc&&"十五"==t.Ldc&&"闰"!=t.Lleap&&(t.A+="中秋节 ",t.Fjia=1),"正"==t.Lmc&&"十五"==t.Ldc&&"闰"!=t.Lleap&&(t.A+="元宵节 "),"七"==t.Lmc&&"初七"==t.Ldc&&"闰"!=t.Lleap&&(t.B+="七夕情人节 "),"七"==t.Lmc&&"十五"==t.Ldc&&"闰"!=t.Lleap&&(t.B+="七月半(鬼节) "),"九"==t.Lmc&&"初九"==t.Ldc&&"闰"!=t.Lleap&&(t.B+="重阳节 "),"十二"==t.Lmc&&"初八"==t.Ldc&&"闰"!=t.Lleap&&(t.B+="腊八节 "),"十二"==t.Lmc&&"正"==t.Lmc2&&("三十"==t.Ldc&&30==t.Ldn&&(t.B+="除夕 "),"廿九"==t.Ldc&&29==t.Ldn&&(t.B+="除夕 "),"廿三"==t.Ldc&&(t.B+="小年")),n=0;n<this.sFtv[t.m-1].length;n++)if((i=this.sFtv[t.m-1][n]).substr(0,2)==s){for(i=(i=i.substr(2,i.length-2)).split("/"),e=0;e<i.length;e++){if(r=(a=i[e]).substr(0,1),"-"==a.substr(5,1)){if(t.y<a.substr(1,4)-0||t.y>a.substr(6,4)-0)continue;a=a.substr(10,a.length-10)}else{if(t.y<1850)continue;a=a.substr(1,a.length-1)}"#"==r&&(t.A+=a+" ",t.Fjia=1),"I"==r&&(t.B+=a+" ")," "==r&&(t.C+=a+" ")}break}var u=h+(t.weeki+1)+t.week;for(n=0;n<this.wFtv.length;n++)"5"==(a=(i=this.wFtv[n]).substr(0,4)).substr(2,1)&&(a=a.substr(0,2)+t.weekN+a.substr(3,1)),a==u&&(r=i.substr(4,1),i=i.substr(5,i.length-5),"#"==r&&(t.A+=i+" ",t.Fjia=1),"I"==r&&(t.B+=i+" ")," "==r&&(t.C+=i+" "));0==t.cur_dz&&(t.B+="冬至"),0<=t.cur_dz&&t.cur_dz<81&&(u=this.Weeks[Math.floor(t.cur_dz/9)+1],t.cur_dz%9==0?t.B+="『"+u+"九』 ":t.C+=u+"九第"+(t.cur_dz%9+1)+"天 "),u=t.Lday2.substr(0,1),w2=t.Lday2.substr(1,1),20<t.cur_xz&&t.cur_xz<=30&&"庚"==u&&(t.B="初伏 "),30<t.cur_xz&&t.cur_xz<=40&&"庚"==u&&(t.B="中伏 "),0<t.cur_lq&&t.cur_lq<=10&&"庚"==u&&(t.B="末伏 "),0<t.cur_mz&&t.cur_mz<=10&&"丙"==u&&(t.B="入梅 "),0<t.cur_xs&&t.cur_xs<=12&&"未"==w2&&(t.B="出梅 ")}},e.Lunar=Lunar},{}],9:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=t("./base/tylunar"),i=t("./base/ganzhi"),v=t("./base/gua"),g=t("./base/bazi"),S=t("./base/common"),w={},y={};function a(t){var n=t.match(/\\nayin\{([\S]+)\}/);if(n)return"\\text{"+new i.GanZhi(n[1]).NaYin+"}"}function r(t){var n=t.match(/\\paigua\{(?<time>[^\{^\}]*)\}\{(?<chi>[^\{^\}]*)\}(\{(?<arg>[^\{^\}]*)\})?/),e=S.LatexHelp.parseGuaTime(n.groups.time),i=S.LatexHelp.parseGuaText(n.groups.chi),a=S.LatexHelp.parseID(n.groups.arg,S.LatexHelp.GUA_ID),r=a.id,h=a.short||x.shortname,s=a.size||x.size;s=isNaN(s)?s:x.sizeDict[s.toString()];var u=null;if(""==(n.groups.time||"")&&""==(n.groups.chi||"")&&n[4]){if(e="参考",!(u=w[n[4]]))return"\\text{错误：找不到标号("+n[4]+")}"}else u=new v.Gua(e,i[0].toString(),i[1].toString());var o=[];"string"==typeof e?o.push("\\"+s+" \\text{起卦时间："+e.replace("00:00:00","")+" ("+r+")}  \\\\"):o.push("\\"+s+" \\text{干支时令："+e[0]+"月 "+e[1]+"日 ("+r+")}  \\\\");for(var c=[],l=0;l<13;l++)c.push("["+u.ShenShas[l].Name+" - "+u.ShenShas[l].Result.join("")+"]");var f=h?4:5;o.push("\\"+s+" \\begin{array}{"+"c".repeat(f)+"}");for(var g=0;g<c.length;g+=f)o.push(S.LatexHelp.buildTexLine(c.slice(g,g+f)));o.push("\\end{array} \\\\"),o.push("\\"+s+" \\begin{array}{"+"c".repeat(3)+"}"),o.push(S.LatexHelp.buildTexLine([u.Yue.Name+"月",u.Ri.Name+"日","(旬空："+u.ShenShas[13].Result.join("")+")|gray"])),o.push("\\end{array} \\\\");var y=[],d=!0;for(g=6;0<g;g--){var p=u.GetLine(g,h),m=S.LatexHelp.gualineToTex(p);y.push(m),d="string"==typeof p[1]}(i=[]).push(u.Ben.GuaGong),d&&i.push(""),i.push(u.Ben.Name+(""==u.Ben.Property?"":"("+u.Ben.Property+")")),u.Ben.Index!=u.Bian.Index&&(i.push(""),i.push(""),i.push(u.Bian.Name+(""==u.Bian.Property?"":"("+u.Bian.Property+")"))),o.push("\\"+s+" \\begin{array}{"+"l".repeat(y[0].length)+"}"),o.push(S.LatexHelp.buildTexLine(i));for(g=0;g<6;g++)o.push(y[g].join("&")+"\\\\");return o.push("\\end{array} \\\\ "),w[r]&&0!=w[r].equal(u)||(w[r]=u),o.join(" ")}function h(t){var n=t.match(/\\guayao\{(?<id>[^\{^\}]*)\}\{(?<pos>[^\{^\}]*)\}/),e=n.groups.pos,i=S.LatexHelp.parseID(n.groups.id,S.LatexHelp.GUA_ID),a=i.id,r=(i.short||x.shortname,i.size||x.size);r=isNaN(r)?r:x.sizeDict[r.toString()];var h=w[a];if(!h)return"\\text{错误：找不到指定的卦本标号("+a+")。}";var s,u=(n=e.match(/^(?<col>[benbianfu]{2,4})(?<row>[123456]{1})/)).groups.col,o=n.groups.row,c=null;"ben"==u||"Ben"==u?(s=h.Ben,c=S.LatexHelp.getYaoSymbol("\\yao{"+h.Benyaos[o-1]+"}")):"bian"==u||"Bian"==u?(s=h.Bian,c=S.LatexHelp.getYaoSymbol("\\yao{"+h.Bianyaos[o-1]+"}")):"fu"!=u&&"Fu"!=u||(s=h.FuGua);var l=["\\"+r];c&&l.push(c);var f=h.Ben.WuXing,g=s.GanZhis[o-1];return l.push(g.Name.Latex()),l.push("("+g.NaYin.Latex("gray")+")"),l.push("\\text{ - "+g.Zhi.WuXing.Ref(f)[0]+"}"),l.join(" ")}function s(t){var n=t.match(/\\timegz\{(?<time>[^\{^\}]*)\}(\{(?<item>[01]*)\})?/),e=S.LatexHelp.parseBaziTime(n.groups.time),i=n.groups.item||"111",a=parseInt(i.substring(0,1)),r=parseInt(i.substring(1,2)),h=parseInt(i.substring(2)),s=new u.TYDate(e);return"\\text{"+(1===a?s.GZyear+"年":"")+(1===r?s.GZmonth+"月":"")+(1===h?s.GZdate+"日":"")+"("+n.groups.time+")}"}function o(t){var n=t.match(/\\paibazi\{(?<time>[^\{^\}]*)\}\{(?<gender>[男女乾坤mf}]*)\}(\{(?<arg>[^\{^\}]*)\})?(\[(?<more>[^\{^\}^\[^\]]+)\])?/),e=S.LatexHelp.parseBaziTime(n.groups.time),i={m:"m",f:"f","男":"m","女":"f","乾":"m","坤":"f"}[n.groups.gender],a=n.groups.more||"",r=S.LatexHelp.parseID(n.groups.arg,S.LatexHelp.BAZI_ID),h=r.id,s=r.short||x.shortname,u=r.size||x.size;u=isNaN(u)?u:x.sizeDict[u.toString()];var o=null;if(y[h]&&""==(n.groups.time||"")&&""==(n.groups.gender||"")){if(i=(o=y[h]).Gender,!o)return"\\text{错误：找不到八字标号("+h+")}"}else o=new g.Bazi(e,i);var c=[],l=s?1:0;c.push("\\"+u+" \\text{"+("m"==i?"乾造":"坤造")+"： "+h+"}  \\\\"),c.push("\\"+u+" \\begin{array}{"+"c".repeat(4)+"}"),c.push(S.LatexHelp.buildTexLine([" "].concat(o.All.select(function(t){return t.Shen10Gan[l]})),"gray")+"\\hdashline"),c.push("&\\textbf{"+o.Y.Gan.Name+"} & \\textbf{"+o.M.Gan.Name+"} & \\textbf{"+o.D.Gan.Name+"} & \\textbf{"+o.T.Gan.Name+"} \\\\"),c.push("&\\textbf{"+o.Y.Zhi.Name+"} & \\textbf{"+o.M.Zhi.Name+"} & \\textbf{"+o.D.Zhi.Name+"} & \\textbf{"+o.T.Zhi.Name+"} \\\\ \\hdashline"),c.push(S.LatexHelp.buildTexLine([" "].concat(o.All.select(function(t){return t.Shen10Zhi[l]})),"gray"));var f=a.split("/").filter(function(t){return!!t&&""!=t});return f.includes("藏干")&&c.push(S.LatexHelp.buildTexLine(["藏干|gray"].concat(o.All.select(function(t){return t.Zhi.CGan.map(function(t){return t.Name}).join("")})))),f.includes("长生")&&c.push(S.LatexHelp.buildTexLine(["长生|gray"].concat(o.All.select(function(t){return t.ChangSheng})))),f.includes("纳音")&&c.push(S.LatexHelp.buildTexLine(["纳音|gray"].concat(o.All.select(function(t){return t.NaYin})))),c.push("\\end{array} \\\\"),y[h]&&0!=y[h].equal(o)||(y[h]=o),c.join(" ")}function c(t){var n=t.match(/\\bazi\{(?<id>[^\{^\}]*)\}\{(?<arg>[^\{^\}]*)\}(\[(?<more>[^\{^\}^\[^\]]+)\])?/),e=(t=n.groups.arg,n.groups.more),i=S.LatexHelp.parseID(n.groups.id,S.LatexHelp.BAZI_ID),a=i.id,r=(i.short||x.shortname,i.size||x.size);r=isNaN(r)?r:x.sizeDict[r.toString()];var h=y[a];return h?"神煞"==t?function(t,n,e){for(var i=[],a=[],r=0;r<=18;r++)a.push("["+t.ShenSha[r].Name+" - "+t.ShenSha[r].Result.join("")+"]");i.push("\\"+n+" \\text{命宫【"+t.MingGong.Name+"} \\quad \\text{胎元【"+t.TaiYuan.Name+"】} \\\\"),i.push("\\"+n+" \\begin{array}{"+"l".repeat(e)+"}");for(r=0;r<=18;r+=e)i.push(S.LatexHelp.buildTexLine(a.slice(r,r+e)));return i.push("\\end{array} "),i.join(" ")}(h,r,parseInt(e)):"大运"==t?function(n,t,e){var i=e.split("").where(function(t){return isNaN(t)&&"-"!=t}).join(""),a=e.replace(i,""),r=S.LatexHelp.range(a),h=new Array;r.forEach(function(t){h.push(n.DaYun[t-1])});var s=i.split("/").removeEmpty();return l(h,"大运",n,t,s)}(h,r,e):"流年"==t||"小运"==t?function(t,n,e,i){var a=i.split("").where(function(t){return isNaN(t)&&"-"!=t}).join(""),r=i.replace(a,"").split("-").removeEmpty(),h=t.CalcLiuNian(parseInt(r[0]),parseInt(r[r.length-1])),s=a.split("/").removeEmpty();return l(h,n,t,e,s)}(h,t,r,e):void 0:"\\text{错误：找不到八字标号("+a+")}"}function l(t,a,r,n,e){var h=["始于",a].concat(e),s=[],u=r.Birthday.toChinaStr();return u=u.replace(r.Birthday.getFullYear().toString(),"##"),s.push("\\"+n+" \\begin{array}{"+"c".repeat(h.length)+"}"),s.push(S.LatexHelp.buildTexLine(h)),t.forEach(function(t){var n="小运"==a?t.GZ2:t.GZ,e=[];e.push("小运"==a?u.replace("##",t.Start.getFullYear().toString()):t.Start.toChinaStr()),e.push("\\"+S.LatexHelp.COLOR+"{gray}{"+n.Shen10Gan[0].Latex()+"}/"+n.Name.Latex()+"/\\"+S.LatexHelp.COLOR+"{gray}{"+n.Shen10Zhi[0].Latex()+"}");for(var i=2;i<h.length;i++)"藏干"==h[i]&&e.push(n.Zhi.CGan.map(function(t){return t.Name}).join("")),"长生"==h[i]&&e.push(n.ChangSheng),"纳音"==h[i]&&e.push(n.NaYin),"神煞"==h[i]&&e.push(r.CalcShenSha(n));s.push(S.LatexHelp.buildTexLine(e))}),s.push("\\end{array} "),s.join(" ")}var x={size:"normalsize",shuitu:!0,huahe:!0,shortname:!1,sizeDict:{1:"tiny",2:"scriptsize",3:"footnotesize",4:"small",5:"normalsize",6:"large",7:"LARGE",8:"huge",9:"Huge"}};document.onreadystatechange=function(){if("interactive"==document.readyState){dictYiXue["\\debug"]=function(t){return"\\text{i am ready  "+new i.GanZhi("戊午").NaYin+" }"},dictYiXue["\\nayin"]=dictYiXue["\\nayin"]||a,dictYiXue["\\yao"]=dictYiXue["\\yao"]||S.LatexHelp.getYaoSymbol,dictYiXue["\\paigua"]=dictYiXue["\\paigua"]||r,dictYiXue["\\guayao"]=dictYiXue["\\guayao"]||h,dictYiXue["\\paibazi"]=dictYiXue["\\paibazi"]||o,dictYiXue["\\bazi"]=dictYiXue["\\bazi"]||c,dictYiXue["\\timegz"]=dictYiXue["\\timegz"]||s;var t=settingYixue["字体大小"]||5;x.size=x.sizeDict[t.toString()],x.shuitu=settingYixue["水土共长生"]||x.shuitu,x.huahe=settingYixue["华鹤八字正偏财"]||x.huahe,x.shortname=settingYixue["开启短名"]||x.shortname,i.ConfigGanZhi.ChangSheng=x.shuitu,i.ConfigGanZhi.Huahe=x.huahe,S.LatexHelp.COLOR=1==settingYixue.Katex?"textcolor":S.LatexHelp.COLOR,console.log("易学函数库 \nVersion: "+S.LatexHelp.Version)}}},{"./base/bazi":1,"./base/common":2,"./base/ganzhi":3,"./base/gua":4,"./base/tylunar":6}]},{},[9]);